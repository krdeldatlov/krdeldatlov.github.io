{"version":3,"sources":["../../kd-web/dist/kd.js","compose.js","contexts/UserContext.js","consumers/withUser.js","components/shared/localization/index.js","components/shared/Container.js","components/shared/DatePicker.js","components/shared/TextInput.js","components/shared/NumInput.js","components/shared/Select.js","components/shared/form/Form.js","contexts/StoreContext.js","consumers/withStore.js","components/records/Form.js","components/shared/table/TableHead.js","components/shared/table/TableToolbar.js","components/shared/AlertDialog.js","components/shared/FilterDialog.js","components/shared/ActionsMenu.js","components/shared/Progress.js","components/shared/table/Table.js","components/shared/FormDialog.js","components/records/Table.js","components/records/Records.js","components/shared/icons/GithubIcon.js","components/shared/login/GithubButton.js","components/shared/icons/GoogleIcon.js","components/shared/login/GoogleButton.js","components/shared/icons/StravaIcon.js","components/shared/login/StravaButton.js","components/shared/icons/FbIcon.js","components/shared/login/FbButton.js","components/login/Login.js","components/projects/Form.js","components/shared/list/List.js","components/projects/List.js","components/projects/Projects.js","components/tasks/Form.js","components/tasks/Table.js","components/project/Project.js","components/shared/Dialog.js","components/shared/avatar/Avatar.js","components/shared/style.js","components/shared/utils/withUtils.js","components/shared/avatar/AvatarPicker.js","components/shared/Switch.js","components/account/Form.js","permissions.js","components/account/Account.js","components/reports/DateChart.js","components/reports/UserChart.js","components/reports/Reports.js","components/oauth/OAuth.js","components/clients/Form.js","components/clients/List.js","components/clients/Clients.js","components/shared/DateTimePicker.js","components/events/Form.js","components/events/Table.js","components/events/Events.js","components/enums/Form.js","components/enums/Table.js","components/enums/Enums.js","components/shared/calendar/Calendar.js","components/calendar/Calendar.js","components/verify/Verify.js","components/sign/Sign.js","components/shared/IconButton.js","components/shared/FileInput.js","components/tags/Form.js","components/shared/list/Card.js","components/shared/list/ListToolbar.js","components/shared/list/CardList.js","components/tags/List.js","components/tags/Tags.js","components/activities/Table.js","components/activities/Activities.js","routes.js","App.js","serviceWorker.js","utils/authUtils.js","providers/UserProvider.js","utils/storeUtils.js","utils/convert.js","providers/StoreProvider.js","index.js"],"names":["self","module","exports","t","129","e","r","d","ajax","z","auth","B","getConfig","I","init","U","mail","_","storage","a","store","C","getUser","i","removeUser","n","setUser","o","JSON","parse","sessionStorage","getItem","setItem","stringify","removeItem","u","c","limit","skip","w","field","dir","f","h","Accept","Authorization","token","url","refreshToken","key","fetch","method","headers","s","status","json","p","Error","statusText","l","filters","sort","page","fields","y","body","g","$","T","O","FormData","append","S","caches","open","match","blob","put","clone","m","j","E","provider","code","redirect_uri","b","x","data","N","signature","k","J","P","A","v","postFile","getFile","delFile","getById","get","post","delById","del","aggregation","getLocation","Promise","navigator","geolocation","getCurrentPosition","type","coordinates","coords","latitude","longitude","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","username","password","oAuth","config","reset","redirectUri","updateOauth","generateSecret","sign","verify","getUsers","getUserCached","updateUser","register","checkUser","subscribe","send","Object","defineProperty","enumerable","prototype","hasOwnProperty","call","Symbol","toStringTag","value","compose","funcs","length","arg","reduce","args","UserContext","React","createContext","withUser","WrappedComponent","props","Consumer","user","Context","LocalizationProvider","Component","constructor","super","translate","locale","split","this","locales","en","sk","state","render","children","Provider","withLocalization","drawerWidth","ResponsiveDrawer","handleMenu","event","setState","anchorEl","currentTarget","handleClose","handleClickAccount","history","push","handleDrawerToggle","mobileOpen","redirect","route","isWidthDown","width","path","classes","theme","routes","Boolean","location","pathname","find","drawer","className","toolbar","map","exact","hidden","permission","hasPermission","button","onClick","primary","name","anonymous","root","position","appBar","color","aria-label","menuButton","variant","noWrap","grow","aria-owns","undefined","aria-haspopup","id","anchorOrigin","vertical","horizontal","transformOrigin","onClose","lgUp","implementation","anchor","direction","paper","drawerPaper","mdDown","content","withWidth","withStyles","display","flexGrow","breakpoints","up","flexShrink","marginLeft","marginRight","mixins","padding","spacing","unit","overflow","withTheme","withRouter","formControl","minWidth","format","mask","getMaskAndFormat","label","keyboard","clearable","required","onChange","toDate","disableOpenOnEnter","animateYearScrolling","style","flex","disabled","okLabel","cancelLabel","fullWidth","error","errorText","htmlFor","target","placeholder","autoComplete","multiline","rows","startAdornment","inputProps","onBlur","toString","Number","min","max","step","textField","multiple","_id","getText","selected","renderValue","join","checked","Form","handleChange","handleSubmit","preventDefault","onSubmit","inline","formInline","form","submitButton","flexWrap","flexDirection","margin","marginBottom","StoreContext","withStore","INIT_STATE","date","Date","duration","projectId","taskId","FormWrapper","handleChangeProject","getOpenedTasks","addTimeRecord","refreshTimeRecords","editTimeRecord","showError","projects","tasks","nameTextInput","TextInput","DatePicker","NumInput","EnhancedTableHead","createSortHandler","property","onRequestSort","onSelectAllClick","numSelected","rowCount","sortable","indeterminate","row","idField","align","disablePadding","sortDirection","title","placement","enterDelay","active","paddingRight","highlight","palette","secondary","main","backgroundColor","lighten","light","text","dark","spacer","actions","onDelete","onFilter","onExport","isFilterSet","onRefresh","exportDisabled","classNames","isOpen","aria-labelledby","aria-describedby","description","onConfirm","autoFocus","buildFilters","forEach","op","moment","endOf","startOf","FilterDialog","handleClear","buildFilter","filterable","pop","getData","defaultState","disableBackdropClick","disableEscapeKeyDown","ActionsMenu","isOpenDelete","handleOpenMenu","handleCloseMenu","handleCloseDelete","handleOpenDelete","onEdit","edge","progress","opacity","top","left","height","zIndex","justifyContent","alignItems","isLoading","_headers","EnhancedTable","handleRequestSort","rowsPerPage","handleSelectAllClick","filter","isDisabled","handleClick","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","handleChangeRowsPerPage","isSelected","componentDidMount","handleOpenFilter","isOpenFilter","handleCloseFilter","handleConfirmFilter","onDeleteMultiple","all","strToDate","str","toLocaleDateString","strToDateTime","toLocaleString","hour12","year","month","day","hour","minute","getValue","cell","onDeleteSingle","exportable","exported","exportRef","current","link","click","handleRefresh","defaultFilters","defaultSort","createRef","emptyRows","Math","total","filename","tableWrapper","table","size","hover","role","aria-checked","tabIndex","colSpan","labelRowsPerPage","labelDisplayedRows","from","to","count","rowsPerPageOptions","component","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","ref","overflowX","FILTERS","subtract","_rows","TableWrapper","handleOpen","getTimeRecords","userId","getClients","deleteTimeRecord","container","item","xs","GithubIcon","GithubButton","tooltip","process","window","replace","fontSize","GoogleIcon","StravaIcon","FbIcon","Copyright","href","getFullYear","Login","trim","toLowerCase","showMsg","handleClickReset","home","classnames","header","center","sm","md","image","elevation","square","avatar","src","logo","github","GoogleButton","google","FbButton","fb","StravaButton","strava","submit","footer","alt","minHeight","marginTop","backgroundImage","backgroundRepeat","grey","backgroundSize","backgroundPosition","collaborators","addProject","getProjects","editProject","users","ListComponent","primaryTextField","secondaryTextField","listWrapper","ListWrapper","handleEdit","handleDelete","deleteProject","list","assignedToId","stateId","typeId","addTask","refreshTasks","editTask","enums","enumTypeId","ROWS","getTasks","deleteTask","project","CenteredGrid","getProject","params","onCancel","ImageAvatars","defaultValue","textTransform","getStyles","col","withUtils","canvasRef","useRef","file","formData","response","console","log","utils","resize","resolve","Image","canvas","onload","ctx","getContext","clearRect","drawImage","toBlob","toDataURL","reader","FileReader","onloadend","result","readAsDataURL","files","inputRef","cursor","bigAvatar","accept","control","repeatedPassword","email","tel","address","city","postCode","country","otp","buildState","isOpenSecretDialog","avatarChanged","set","validPasswords","regex","RegExp","passwordPattern","isValidPassword","test","errorTextPassword","isValidRepeatedPassword","errorTextRepeatedPassword","validEmail","isValid","ids","validUsername","handleChangeAvatar","handleOpenSecretDialog","handleCloseSecretDialog","AvatarPicker","secret","qrCode","heading","detailHeading","float","permissions","report","tags","events","activities","connected","connectTitle","synced","Example","PureComponent","dateStats","strokeDasharray","dataKey","fill","projectStats","userStats","cx","cy","innerRadius","outerRadius","isAnimationActive","UserChart","DateChart","period","_code","_provider","_mutex","OAuthComponent","urlParams","URLSearchParams","search","loader","ico","dic","icdph","rate","reportId","activity","addClient","editClient","deleteClient","clients","ampm","getInitState","add","start","end","eventTypeId","handleChangeStart","getTime","handleChangeEnd","addEvent","refreshEvents","editEvent","DateTimePicker","handleChangeClient","clientId","getEvents","deleteEvent","addEnum","refreshEnums","editEnum","enumTypes","getEnums","deleteEnum","Calendar","calendarComponentRef","defaultView","defaultDate","eventDataTransform","getColor","handleDateClick","onSelect","handleEventClick","handleViewDisplay","view","activeStart","activeEnd","right","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","weekends","dateClick","eventClick","datesRender","eventColor","_eventType","handleSelect","LegacyModeExample","delay","legacy","handleScan","bind","openImageDialog","myRef","handleError","err","onError","onScan","legacyMode","mimeType","urlCreator","URL","webkitURL","createObjectURL","likes","likesCnt","typesId","unavailable","_img","addTag","getTags","editTag","FileInput","RecipeReviewCard","imgViz","img","expanded","handleExpandClick","onViz","isVisible","cardActions","defaultAvatar","partialVisibility","card","action","subheader","media","transition","disableActionSpacing","expand","expandOpen","aria-expanded","in","timeout","unmountOnExit","maxWidth","paddingTop","transform","transitions","create","shortest","red","onLike","isLiked","avatarField","defaultAvatarField","tooltipField","onMsg","cntField","ListToolbar","getContent","deleteTag","handleLike","likeTag","handleMsg","_user","includes","_tagTypesStr","getFilters","handleViz","imgId","CardList","getOpData","getGroupData","getTypeData","buildField","groupId","buildOp","opId","buildOpField","buildGroup","opField","buildGroupFilters","buildCell","oAuthId","rel","buildIdRow","buildValRow","buildRows","getUsersInClub","_groupFilters","_sort","_page","_group","_filters","_typeFilters","_timer","_searchFilters","getList","getActivities","handleChangeType","buildTypeFilters","handleChangeOp","handleChangeGroup","handleChangeSearch","clearTimeout","setTimeout","Records","Clients","Projects","Reports","Events","Enums","Sign","Verify","Project","OAuth","Tags","Activities","Account","_basename","App","Fragment","basename","Container","PrivateRoute","msg","autoHideDuration","hideMsg","ContentProps","message","close","rest","hostname","buildRedirectUri","configId","UserProvider","authUtils","btoa","res","atob","TIME_RECORDS_COLLECTION","PROJECTS_COLLECTION","TASKS_COLLECTION","CLIENTS_COLLECTION","EVENTS_COLLECTION","TAGS_COLLECTION","ENUMS_COLLECTION","setHours","setSeconds","tagTypes","_dateStr","tagTypesStr","index","tagType","processValue","group","val","round","seconds","floor","convert","getMonth","substring","parseDate","clubId","Function","getClient","stats","sum","timeRecords","_project","getTaskCached","_task","eventTypes","_enumType","getFilteredEnums","types","states","_assignedTo","_state","_type","getTask","taskCache","_isInit","StoreProvider","storeUtils","client","splice","handleChangeCollection","collection","createMuiTheme","AppWrapper","document","documentElement","setProperty","en-US","sk-SK","MomentUtils","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6251c658.chunk.js","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.kd=e():t.kd=e()}(self,(function(){return(()=>{\"use strict\";var t={129:(t,e,r)=>{r.r(e),r.d(e,{ajax:()=>z,auth:()=>B,getConfig:()=>I,init:()=>U,mail:()=>_,storage:()=>a,store:()=>C});var a={};r.r(a),r.d(a,{getUser:()=>i,removeUser:()=>n,setUser:()=>o});const s=\"kd-user\",i=()=>(s,JSON.parse(sessionStorage.getItem(\"kd-user\"))),o=t=>{var e;e=t,sessionStorage.setItem(\"kd-user\",JSON.stringify(e))},n=()=>{sessionStorage.removeItem(\"kd-user\")},u=[],c={limit:1e3,skip:0},w={field:\"_id\",dir:\"asc\"},f=[],h=()=>{var t=i();return{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:t?`Bearer  ${t.token}`:null}},d=async t=>{const e=`${t.url.auth}/api/User/refresh`,r=i(),a=r?r.refreshToken:t.key,s=await fetch(e,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:`Bearer ${a}`}});if(200===s.status){const t=await s.json();return t.refreshToken=a,o(t),!0}return n(),!1},p=async(t,e,r)=>{const a=`${e}/${r}`,s=await fetch(a,{headers:h()});if(200===s.status)return await s.json();if(404===s.status)return null;if(401===s.status&&await d(t))return await p(t,e,r);throw new Error(s.statusText)},l=async(t,e,r=u,a=w,s=c,i=f)=>{const o=`${e}?filters=${JSON.stringify(r)}&page=${JSON.stringify(s)}&sort=${JSON.stringify(a)}&fields=${JSON.stringify(i)}`,n=await fetch(o,{headers:h()});if(200===n.status){const t=await n.json();return t.filters=r,t.sort=a,t.page=s,t.fields=i,t}if(401===n.status&&await d(t))return await l(t,e,r,a,s,i);throw new Error(n.statusText)},y=async(t,e,r,a)=>{const s=`${e}/${a}`,i=await fetch(s,{method:\"PUT\",headers:h(),body:JSON.stringify(r)});if(200===i.status)return await i.json();if(401===i.status&&await d(t))return await y(t,e,r,a);throw new Error(i.statusText)},g=async(t,e,r)=>{const a=`${e}`,s=await fetch(a,{method:\"POST\",headers:h(),body:JSON.stringify(r)});if(200===s.status)return await s.json();if(401===s.status&&await d(t))return await g(t,e,r);throw new Error(s.statusText)},$=async(t,e,r)=>{const a=`${e}/${r}`,s=await fetch(a,{method:\"DELETE\",headers:h()});if(200===s.status);else{if(401!==s.status||!await d(t))throw new Error(s.statusText);await $(t,e,r)}},T=async(t,e,r)=>{const a=`${e}?filters=${JSON.stringify(r)}`,s=await fetch(a,{method:\"DELETE\",headers:h()});if(200!==s.status){if(401===s.status&&await d(t))return await T(t,e,r);throw new Error(s.statusText)}},O=async(t,e)=>{const r=`${t.url.store}/api/file`,a=new FormData;a.append(\"file\",e);const s=await fetch(r,{method:\"POST\",headers:{Authorization:\"Bearer \"+i().token},body:a});if(200===s.status)return await s.json();if(401===s.status&&await d(t))return await O(t,e);throw new Error(s.statusText)},S=async(t,e)=>{const r=\"file/\"+e,a=await caches.open(\"kd-cache\"),s=await a.match(r);if(s)return await s.blob();const o=`${t.url.store}/api/file/${e}`,n=await fetch(o,{method:\"GET\",headers:{Authorization:\"Bearer \"+i().token}});if(200===n.status)return a.put(r,n.clone()),await n.blob();if(401===n.status&&await d(t))return await S(t,e);throw new Error(n.statusText)},m=async(t,e)=>{const r=`${t.url.store}/api/file/${e}`,a=await fetch(r,{method:\"DELETE\",headers:{Authorization:\"Bearer \"+i().token}});if(200===a.status);else{if(401!==a.status||!await d(t))throw new Error(a.statusText);await m(t,e)}},j=async(t,e,r,a=u,s=w,i=c)=>{const o=`${t.url.store}/api/store/${e}/aggregation?group=${JSON.stringify(r)}&filters=${JSON.stringify(a)}&sort=${JSON.stringify(s)}&page=${JSON.stringify(i)}`,n=await fetch(o,{headers:h()});if(200===n.status)return await n.json();if(401===n.status&&await d(t))return await j(t,e,r,a,s);throw new Error(n.statusText)},E=async(t,e,r,a)=>{const s=`${t.url.auth}/api/user/oauth`,i=await fetch(s,{method:\"PUT\",headers:h(),body:JSON.stringify({provider:e,code:r,redirect_uri:a})});if(200===i.status)return await i.json();if(401===i.status&&await d(t))return await E(t,e,r,a);throw new Error(i.statusText)},b=async t=>{const e=`${t.url.auth}/api/user/secret`,r=await fetch(e,{method:\"POST\",headers:h()});if(200===r.status)return await r.json();if(401===r.status&&await d(t))return await b(t);throw new Error(r.statusText)},x=async(t,e)=>{const r=`${t.url.auth}/api/user/sign?withQrCode=true`,a=await fetch(r,{method:\"POST\",headers:h(),body:JSON.stringify({data:e})});if(200===a.status)return await a.json();if(401===a.status&&await d(t))return await x(t,e);throw new Error(a.statusText)},N=async(t,e,r)=>{const a=`${t.url.auth}/api/user/verify`,s=await fetch(a,{method:\"POST\",headers:h(),body:JSON.stringify({data:e,signature:r})});if(200===s.status)return!0;if(400===s.status)return!1;if(401===s.status&&await d(t))return await N(t,e,r);throw new Error(s.statusText)},k=async(t,e,r={field:\"name\",dir:\"asc\"},a=c)=>{const s=`${t.url.auth}/api/user?filters=${JSON.stringify(e)}&page=${JSON.stringify(a)}&sort=${JSON.stringify(r)}`,i=await fetch(s,{headers:h()});if(200===i.status)return await i.json();if(401===i.status&&await d(t))return await k(t,e,r,a);throw new Error(i.statusText)},J=async(t,e)=>{const r=`${t.url.auth}/api/user/${e}`,a=await fetch(r,{headers:h()});if(200===a.status)return await a.json();if(404===a.status)return null;if(401===a.status&&await d(t))return await J(t,e);throw new Error(a.statusText)},P=async(t,e,r)=>{const a=`${t.url.auth}/api/user/${e}`,s=await fetch(a,{method:\"PUT\",headers:h(),body:JSON.stringify(r)});if(200===s.status){const t=await s.json(),e=i();return o({...t,token:e.token,refreshToken:e.refreshToken}),t}if(401===s.status&&await d(t))return await P(t,e,r);throw new Error(s.statusText)},A={url:{store:\"https://stored.azurewebsites.net\",auth:\"https://storeauth.azurewebsites.net\",mail:\"https://storemail.azurewebsites.net\"},key:null};let v=A;const U=t=>{v={...A,...t}},I=()=>v,C={postFile:t=>O(v,t),getFile:t=>S(v,t),delFile:t=>m(v,t),getById:(t,e)=>((t,e,r)=>{const a=`${t.url.store}/api/store/${e}`;return p(t,a,r)})(v,t,e),get:(t,e,r,a,s)=>((t,e,r=u,a=w,s=c,i=f)=>{const o=`${t.url.store}/api/store/${e}`;return l(t,o,r,a,s,i)})(v,t,e,r,a,s),put:(t,e,r)=>((t,e,r,a)=>{const s=`${t.url.store}/api/store/${e}`;return y(t,s,r,a)})(v,t,e,r),post:(t,e)=>((t,e,r)=>{const a=`${t.url.store}/api/store/${e}`;return g(t,a,r)})(v,t,e),delById:(t,e)=>((t,e,r)=>{const a=`${t.url.store}/api/store/${e}`;return $(t,a,r)})(v,t,e),del:(t,e)=>((t,e,r)=>{const a=`${t.url.store}/api/store/${e}`;return T(t,a,r)})(v,t,e),aggregation:(t,e,r,a,s)=>j(v,t,e,r,a,s),getLocation:()=>new Promise(((t,e)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const r={type:\"Point\",coordinates:[e.coords.latitude,e.coords.longitude]};t(r)}),(t=>{let r;switch(t.code){case t.PERMISSION_DENIED:r=\"User denied the request for Geolocation.\";break;case t.POSITION_UNAVAILABLE:r=\"Location information is unavailable.\";break;case t.TIMEOUT:r=\"The request to get user location timed out.\";break;case t.UNKNOWN_ERROR:default:r=\"An unknown error occurred.\"}e(new Error(r))})):e(\"Geolocation is not supported by this browser.\")}))},B={auth:(t,e,r)=>(async(t,e,r,a=\"\")=>{const s=`${t.url.auth}/api/user/auth`,i=await fetch(s,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({username:e,password:r,token:a})});if(200===i.status){const t=await i.json();return o(t),t}if(401===i.status)return null;throw new Error(i.statusText)})(v,t,e,r),oAuth:(t,e,r,a)=>(async(t,e,r,a,s=null)=>{const i=`${t.url.auth}/api/user/oauth`,n=await fetch(i,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({provider:e,code:r,redirect_uri:a,config:s})});if(200===n.status){const t=await n.json();return o(t),t}if(401===n.status)return null;throw new Error(n.statusText)})(v,t,e,r,a),reset:(t,e)=>(async(t,e,r)=>{const a=`${t.url.auth}/api/user/reset`,s=await fetch(a,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({username:e,redirectUri:r})});if(200!==s.status)throw new Error(s.statusText)})(v,t,e),updateOauth:(t,e,r)=>E(v,t,e,r),generateSecret:()=>b(v),sign:t=>x(v,t),verify:(t,e)=>N(v,t,e),getUsers:(t,e,r)=>k(v,t,e,r),getUserCached:t=>(async(t,e)=>{const r=\"user/\"+e,a=await caches.open(\"kd-cache\"),s=await a.match(r);if(s)return await s.json();const i=`${t.url.auth}/api/user/${e}`,o=await fetch(i,{headers:h()});if(200===o.status)return a.put(r,o.clone()),await o.json();if(404===o.status)return null;if(401===o.status&&await d(t))return await J(t,e);throw new Error(o.statusText)})(v,t),getUser:t=>J(v,t),updateUser:(t,e)=>P(v,t,e),register:t=>(async(t,e)=>{const r=`${t.url.auth}/api/user`,a=await fetch(r,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(e)});if(200===a.status)return await a.json();throw new Error(a.statusText)})(v,t),checkUser:t=>(async(t,e)=>{const r=`${t.url.auth}/api/user/check?username=${e}`,a=await fetch(r,{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}});if(200===a.status)return await a.json();throw new Error(a.statusText)})(v,t),subscribe:t=>(async(t,e)=>{const r=`${t.url.auth}/api/user/subscriber`,a=await fetch(r,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(e)});if(200===a.status)return await a.json();throw new Error(a.statusText)})(v,t)},z={getById:(t,e)=>p(v,t,e),get:(t,e,r,a,s)=>l(v,t,e,r,a,s),put:(t,e,r)=>y(v,t,e,r),post:(t,e)=>g(v,t,e),delById:(t,e)=>$(v,t,e),del:(t,e)=>T(v,t,e)},_={send:t=>((t,e)=>{const r=`${t.url.mail}/api/mail`;return g(t,r,e)})(v,t)}}},e={};function r(a){if(e[a])return e[a].exports;var s=e[a]={exports:{}};return t[a](s,s.exports,r),s.exports}return r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(129)})()}));","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}","import React from \"react\";\n\nconst UserContext = React.createContext();\nexport default UserContext;","import React from \"react\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst withUser = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <UserContext.Consumer>\n        {user =>\n          <WrappedComponent\n            {...props}\n            user={user}\n          />\n        }\n      </UserContext.Consumer>\n    );\n  }\n};\n\nexport default withUser;","import React from \"react\";\r\nimport en from './en-US.json';\r\nimport sk from './sk-SK.json';\r\n\r\nconst Context = React.createContext();\r\n\r\nexport class LocalizationProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.locales = { \r\n      'en-US': { ...en, ...props['en-US'] },\r\n      'sk-SK': { ...sk, ...props['sk-SK'] } \r\n    };\r\n\r\n    this.state = {\r\n      locale: props.locale || 'en-US'\r\n    };\r\n  }\r\n\r\n  translate = locale => (key) => {\r\n    const k = key.split('.');\r\n\r\n    let value = this.locales[locale][k[0]];\r\n    if(k.length > 1) {\r\n      value = value[k[1]];\r\n    }\r\n    return value;\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Context.Provider\r\n        value={{\r\n          locale: this.state.locale,\r\n          translate: this.translate(this.state.locale)\r\n        }}\r\n      >\r\n        {children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const withLocalization = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <Context.Consumer>\r\n        {x =>\r\n          <WrappedComponent\r\n            {...props}\r\n            {...x}\r\n          />\r\n        }\r\n      </Context.Consumer>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\r\nimport { withRouter } from \"react-router\";\r\nimport compose from '../../compose';\r\nimport { withLocalization } from './localization';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    marginLeft: drawerWidth,\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: 20,\r\n    [theme.breakpoints.up('lg')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing.unit * 2,\r\n    overflow: 'auto'\r\n  },\r\n});\r\n\r\nclass ResponsiveDrawer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      mobileOpen: false,\r\n      anchorEl: null\r\n    };\r\n  }\r\n\r\n  handleMenu = event => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleClickAccount = () => {\r\n    this.props.history.push('/account');\r\n    this.handleClose();\r\n  }\r\n\r\n  handleDrawerToggle = () => {\r\n    this.setState(state => ({ mobileOpen: !state.mobileOpen }));\r\n  };\r\n\r\n  redirect = (route) => {\r\n    if(isWidthDown('md', this.props.width)) {\r\n      this.handleDrawerToggle();\r\n    }\r\n\r\n    this.props.history.push(route.path);\r\n  }\r\n\r\n  render() {\r\n    const { classes, theme, routes, user, translate } = this.props;\r\n    const { anchorEl } = this.state;\r\n    const open = Boolean(anchorEl);\r\n    const path = this.props.history.location.pathname;\r\n    const route = routes.find(x => x.path === path);\r\n\r\n    const drawer = (\r\n      <div>\r\n        <div className={classes.toolbar} />\r\n        <Divider />\r\n        <List>\r\n          {routes.map(route => {\r\n            if(route.exact && !route.hidden && (!route.permission || user.hasPermission(route.permission))) return (\r\n              <ListItem button key={route.name} onClick={() => this.redirect(route)}>\r\n                <ListItemText primary={translate('route.' +route.name) || route.name} />\r\n              </ListItem>\r\n            );\r\n            else return null;\r\n          })}\r\n        </List>\r\n      </div>\r\n    );\r\n\r\n    if (!route || !route.anonymous) {\r\n      return (\r\n        <div className={classes.root}>\r\n          <CssBaseline />\r\n          <AppBar position=\"fixed\" className={classes.appBar} color='secondary'>\r\n            <Toolbar>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                aria-label={translate('toolbar.open')}\r\n                onClick={this.handleDrawerToggle}\r\n                className={classes.menuButton}\r\n              >\r\n                <MenuIcon />\r\n              </IconButton>\r\n              <Typography variant=\"h6\" color=\"inherit\" noWrap className={classes.grow}>\r\n                {route ? translate('route.' +route.name) || route.name : 'App'}\r\n              </Typography>\r\n              <div>\r\n                <span>{user.user ? user.user.name : null}</span>\r\n                <IconButton\r\n                  aria-owns={open ? 'menu-appbar' : undefined}\r\n                  aria-haspopup=\"true\"\r\n                  onClick={this.handleMenu}\r\n                  color=\"inherit\"\r\n                >\r\n                  <AccountCircle />\r\n                </IconButton>\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorEl}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={open}\r\n                  onClose={this.handleClose}\r\n                >\r\n                  <MenuItem onClick={this.handleClickAccount}>{translate('toolbar.account')}</MenuItem>\r\n                </Menu>\r\n              </div>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <nav className={classes.drawer}>\r\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n            <Hidden lgUp implementation=\"css\">\r\n              <Drawer\r\n                variant=\"temporary\"\r\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n                open={this.state.mobileOpen}\r\n                onClose={this.handleDrawerToggle}\r\n                classes={{\r\n                  paper: classes.drawerPaper,\r\n                }}\r\n              >\r\n                {drawer}\r\n              </Drawer>\r\n            </Hidden>\r\n            <Hidden mdDown implementation=\"css\">\r\n              <Drawer\r\n                classes={{\r\n                  paper: classes.drawerPaper,\r\n                }}\r\n                variant=\"permanent\"\r\n                open\r\n              >\r\n                {drawer}\r\n              </Drawer>\r\n            </Hidden>\r\n          </nav>\r\n          <main className={classes.content}>\r\n            <div className={classes.toolbar} />\r\n            {this.props.children}\r\n          </main>\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        <div className={classes.root}>\r\n          {this.props.children}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nResponsiveDrawer.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n  children: PropTypes.arrayOf(PropTypes.element),\r\n  user: PropTypes.object.isRequired,\r\n  routes: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withWidth(),\r\n  withStyles(styles, { withTheme: true }),\r\n  withRouter,\r\n  withLocalization\r\n)(ResponsiveDrawer);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { DatePicker } from \"material-ui-pickers\";\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 160\r\n  },\r\n});\r\n\r\nconst getMaskAndFormat = (locale) => {\r\n  switch(locale) {\r\n    case 'sk-SK': {\r\n      return {\r\n        format: \"DD.M.YYYY\",\r\n        mask:  [/\\d/, /\\d/, \".\", /\\d/, \".\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  \r\n    case 'en-US':\r\n    default: {\r\n      return {\r\n        format: \"MM/DD/YYYY\",\r\n        mask:  [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction DatePickerComponent(props) {\r\n  const { classes } = props;\r\n  const { format, mask } = getMaskAndFormat(props.locale);\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n  return (\r\n    <DatePicker\r\n      className={classes.formControl}\r\n      keyboard\r\n      label={label}\r\n      format={format}\r\n      clearable={!props.required}\r\n      mask={value =>\r\n        // handle clearing outside if value can be changed outside of the component\r\n        value ? mask : []\r\n      }\r\n      value={props.value || null}\r\n      onChange={(value) => props.onChange(props.field, value ? value.toDate() : null)}\r\n      disableOpenOnEnter\r\n      animateYearScrolling={false}\r\n      style={{flex: 1, display: 'flex'}}\r\n      disabled={props.disabled}\r\n      okLabel={props.translate('dialog.ok')}\r\n      cancelLabel={props.translate('dialog.cancel')}\r\n    />\r\n  );\r\n}\r\n\r\nDatePickerComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.instanceOf(Date),\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(DatePickerComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 100\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' + props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl} \r\n      fullWidth={props.fullWidth} \r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        type={props.type === 'new-password' ? 'password' : props.type}\r\n        id={props.field} \r\n        value={props.value || ''} \r\n        onChange={(e) => props.onChange(props.field, e.target.value)} \r\n        placeholder={props.placeholder}\r\n        autoComplete={props.type === 'new-password' ? 'new-password' : null}\r\n        disabled={props.disabled}\r\n        multiline={props.multiline}\r\n        rows={props.rows}\r\n        startAdornment={props.startAdornment}\r\n        inputProps={{\r\n          onBlur: props.onBlur\r\n        }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 80\r\n  },\r\n});\r\n\r\nfunction NumInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl}\r\n      required={props.required}\r\n      fullWidth={props.fullWidth} \r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        id={props.field} \r\n        value={props.value ? props.value.toString() : '0'} \r\n        onChange={(e) => props.onChange(props.field, Number(e.target.value))} \r\n        type=\"number\" \r\n        disabled={props.disabled}\r\n        inputProps={{\r\n          min: props.min,\r\n          max: props.max,\r\n          step: props.step || \"any\"\r\n        }}       \r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nNumInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.number,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  min: PropTypes.number,\r\n  max: PropTypes.number,\r\n  step: PropTypes.number,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  fullWidth: PropTypes.bool,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(NumInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 120\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes, data, textField, required, value, onChange, field, multiple } = props;\r\n  if(required && value === null && data && data.length > 0) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find(x => x._id === selected);\r\n    return value ? value[textField] : null\r\n  }\r\n\r\n  const renderValue = selected => {\r\n    if(!multiple) {\r\n      return getText(selected);\r\n    }\r\n    \r\n    return selected.map(s => getText(s)).join(' | ');\r\n  }\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classes.formControl}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n    >\r\n      {label &&\r\n        <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      }\r\n      <Select\r\n        value={props.value !== null ? props.value : ''}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n      >\r\n        {(!props.required && !multiple) && \r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        }\r\n        {data.map(x => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple &&\r\n              <Checkbox checked={value.find(d => d === x._id) !== undefined} />\r\n            }\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { withLocalization } from '../localization';\n\nconst styles = theme => ({\n  formInline: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: 'row',\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: 'column',\n  },\n  submitButton: {\n    margin: theme.spacing.unit,\n    marginBottom: theme.spacing.unit * 2\n  }\n});\n\nclass Form extends React.Component {\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit();\n  };\n\n  render() {\n    const { classes, inline, disabled, translate } = this.props;\n\n    return (\n      <form\n        className={inline ? classes.formInline : classes.form}\n        onSubmit={this.handleSubmit}\n      >\n        {this.props.children}\n        {!disabled && (\n          <Button\n            className={classes.submitButton}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={disabled}\n          >\n            {translate('form.save')}\n          </Button>\n        )}\n      </form>\n    );\n  }\n}\n\nForm.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  inline: PropTypes.bool,\n  disabled: PropTypes.bool\n};\n\nexport default withLocalization(withStyles(styles)(Form));\n","import React from \"react\";\n\nconst StoreContext = React.createContext();\nexport default StoreContext;","import React from \"react\";\nimport StoreContext from \"../contexts/StoreContext\";\n\nconst withStore = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <StoreContext.Consumer>\n        {store =>\n          <WrappedComponent\n            {...props}\n            store={store}\n          />\n        }\n      </StoreContext.Consumer>\n    );\n  }\n};\n\nexport default withStore;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport DatePicker from \"../shared/DatePicker\";\nimport TextInput from \"../shared/TextInput\";\nimport NumInput from \"../shared/NumInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  date: new Date(),\n  name: \"\",\n  duration: 0,\n  projectId: null,\n  taskId: null\n};\n\nclass FormWrapper extends React.Component {\n  state = this.props.data || INIT_STATE;\n\n  handleChangeProject = (name, value) => {\n    const { user } = this.props.user;\n    const { getOpenedTasks, handleChange } = this.props.store;\n    \n    getOpenedTasks(value, user);\n    if(!this.props.data) {\n      handleChange(name, value);\n    }\n    this.handleChange(name, value);\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addTimeRecord,\n      refreshTimeRecords,\n      editTimeRecord\n    } = this.props.store;\n    const { user } = this.props.user;\n\n    if (!this.state.projectId) {\n      return;\n    }\n\n    try {\n      if (this.state._id) {\n        await editTimeRecord(this.state, user);\n      } else {\n        await addTimeRecord(this.state, user);\n      }\n      refreshTimeRecords();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { date, name, duration, projectId, taskId } = this.state;\n    const { projects, tasks } = this.props.store;\n\n    return (\n      <Form onSubmit={this.handleSubmit} inline>\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n          />\n        </div>\n        <Select\n          value={projectId}\n          field=\"projectId\"\n          onChange={this.handleChangeProject}\n          data={projects.data}\n          textField=\"name\"\n          required\n        />\n        <Select\n          value={taskId}\n          field=\"taskId\"\n          onChange={this.handleChange}\n          data={tasks.data}\n          textField=\"name\"\n        />\n        <DatePicker\n          value={date}\n          field=\"date\"\n          onChange={this.handleChange}\n          required\n        />\n        <NumInput\n          value={duration}\n          field=\"duration\"\n          onChange={this.handleChange}\n          min={0}\n          step={0.25}\n          required\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nclass EnhancedTableHead extends React.Component {\r\n  createSortHandler = property => event => {\r\n    this.props.onRequestSort(event, property);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onSelectAllClick,\r\n      sort,\r\n      numSelected,\r\n      rowCount,\r\n      rows,\r\n      sortable,\r\n      translate\r\n    } = this.props;\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n            />\r\n          </TableCell>\r\n          {rows.map(row => {\r\n            const label = row.label || translate(`field.${row.idField || row.field}`)\r\n\r\n            return (\r\n              <TableCell\r\n                key={row.field}\r\n                align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                padding={row.disablePadding ? \"none\" : \"default\"}\r\n                sortDirection={sort.field === row.field ? sort.dir : false}\r\n              >\r\n                {sortable === false || row.sortable === false ? (\r\n                  label\r\n                ) : (\r\n                  <Tooltip\r\n                    title={translate(\"table.sort\")}\r\n                    placement={\r\n                      row.type === \"num\" ? \"bottom-end\" : \"bottom-start\"\r\n                    }\r\n                    enterDelay={300}\r\n                  >\r\n                    <TableSortLabel\r\n                      active={sort.field === row.field}\r\n                      direction={sort.dir}\r\n                      onClick={this.createSortHandler(row.field)}\r\n                    >\r\n                      {label}\r\n                    </TableSortLabel>\r\n                  </Tooltip>\r\n                )}\r\n              </TableCell>\r\n            );\r\n          }, this)}\r\n          <TableCell padding=\"none\"></TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  sort: PropTypes.object.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  sortable: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(EnhancedTableHead);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { withLocalization } from '../localization';\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  spacer: {\n    flex: '1 1 auto',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n});\n\nlet EnhancedTableToolbar = props => {\n  const { numSelected, classes, onDelete, onFilter, title, onExport, isFilterSet, actions, onRefresh, exportDisabled, translate } = props;\n\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\" variant=\"subtitle1\">\n            {numSelected} {translate('table.selected')}\n          </Typography>\n        ) : (\n            <Typography variant=\"h6\" id=\"tableTitle\">\n              {title}\n            </Typography>\n          )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {actions}\n        {numSelected > 0 ? (\n          <Tooltip title={translate('table.delete')}>\n            <IconButton aria-label={translate('table.delete')} onClick={onDelete}>\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        ) : (\n            <Tooltip title={translate('table.filter')}>\n              <IconButton aria-label={translate('table.filter')} color={isFilterSet ? \"primary\" : \"default\"} onClick={onFilter}>\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n          )}\n        <Tooltip title={translate('table.export')}>\n          <IconButton aria-label={translate('table.export')} onClick={onExport} disabled={exportDisabled}>\n            <CloudDownloadIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title={translate('table.refresh')}>\n          <IconButton aria-label={translate('table.refresh')} onClick={onRefresh}>\n            <RefreshIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onFilter: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  onExport: PropTypes.func.isRequired,\n  isFilterSet: PropTypes.bool.isRequired,\n  actions: PropTypes.element,\n  exportDisabled: PropTypes.bool\n};\n\nexport default withLocalization(withStyles(toolbarStyles)(EnhancedTableToolbar));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withLocalization } from './localization';\n\nfunction AlertDialog(props) {\n  return (\n    <Dialog\n      open={props.isOpen}\n      onClose={props.onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {props.description}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.onClose} color=\"primary\">\n          {props.translate('dialog.cancel')}\n        </Button>\n        <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n          {props.translate('dialog.ok')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nAlertDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired\n}\n\nexport default withLocalization(AlertDialog);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DatePicker from \"../shared/DatePicker\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextInput from \"./TextInput\";\r\nimport Select from \"./Select\";\r\nimport moment from \"moment\";\r\n\r\nexport const buildFilters = (rows, f, state) => {\r\n  const filters = [];\r\n\r\n  if (state) {\r\n    let value, field;\r\n\r\n    f.forEach(x => {\r\n      field = x.field;\r\n      value = state[field];\r\n      if (value) {\r\n        filters.push(...x.data.find(y => y._id === value).filters);\r\n      }\r\n    });\r\n\r\n    rows.forEach(x => {\r\n      switch (x.type) {\r\n        case \"num\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"eq\", value });\r\n          }\r\n          break;\r\n\r\n        case \"bool\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"eq\", value: value === 1 ? true : false });\r\n          }\r\n          break;\r\n\r\n        case \"date\":\r\n        case \"datetime\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"lte\",\r\n              value: moment(value)\r\n                .endOf(\"day\")\r\n                .toDate()\r\n            });\r\n            filters.push({\r\n              field,\r\n              op: \"gte\",\r\n              value: moment(value)\r\n                .startOf(\"day\")\r\n                .toDate()\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"enum\":\r\n        case \"array\":\r\n          field = x.idField;\r\n          value = state[field];\r\n          if (value && value.length > 0) {\r\n            filters.push({ field, op: \"in\", value });\r\n          }\r\n          break;\r\n\r\n        default:\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"regex\", value });\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  return filters;\r\n};\r\n\r\nclass FilterDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.defaultState || {};\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleClear = () => {\r\n    const state = {};\r\n    this.props.filters.forEach(x => {\r\n      state[x.field] = null;\r\n    });\r\n\r\n    this.props.rows.forEach(x => {\r\n      const field = x.type === \"enum\" || x.type === \"array\" ? x.idField : x.field;\r\n      state[field] = null;\r\n    });\r\n    this.props.onConfirm(null);\r\n    this.setState(state);\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    this.props.onConfirm(this.state);\r\n  };\r\n\r\n  buildFilter = x => {\r\n    if (x.filterable === false) {\r\n      return null;\r\n    }\r\n\r\n    switch (x.type) {\r\n      case \"enum\":\r\n      case \"array\":\r\n        const textField = x.textField || x.field.split(\".\").pop();\r\n        const data = this.props.store[x.data].data;\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.idField] || []}\r\n            field={x.idField}\r\n            onChange={this.handleChange}\r\n            data={x.getData ? x.getData(data) : data}\r\n            textField={textField}\r\n            multiple\r\n          />\r\n        );\r\n      case \"bool\":\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            data={[\r\n              { _id: 1, name: 'T' },\r\n              { _id: -1, name: 'F' }\r\n            ]}\r\n            textField={'name'}\r\n          />\r\n        );\r\n      case \"date\":\r\n      case \"datetime\":\r\n        return (\r\n          <DatePicker\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n      case \"num\":\r\n        return (\r\n          <NumInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            min={0}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <TextInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const props = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open={props.isOpen}\r\n        onClose={props.onClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Filters</DialogTitle>\r\n        {this.props.filters.map((f) => (\r\n          <Select\r\n            value={this.state[f.field]}\r\n            field={f.field}\r\n            label={f.label}\r\n            onChange={this.handleChange}\r\n            data={f.data}\r\n            textField=\"name\"\r\n          />\r\n        ))}\r\n        {props.rows.map(x => this.buildFilter(x))}\r\n        <DialogActions>\r\n          <Button onClick={this.handleClear} color=\"primary\">\r\n            Clear\r\n          </Button>\r\n          <Button onClick={this.handleSubmit} color=\"primary\" autoFocus>\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nFilterDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onConfirm: PropTypes.func.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  filters: PropTypes.array.isRequired,\r\n  defaultState: PropTypes.object\r\n};\r\n\r\nexport default FilterDialog;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport IconButton from '@material-ui/core/IconButton';\nimport AlertDialog from './AlertDialog';\nimport { withLocalization } from './localization';\n\nclass ActionsMenu extends React.Component {\n  state = {\n    anchorEl: null,\n    isOpenDelete: false\n  };\n\n  handleOpenMenu = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleCloseMenu = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  handleCloseDelete = () => {\n    this.setState({ isOpenDelete: false });\n  }\n\n  handleOpenDelete = () => {\n    this.setState({ isOpenDelete: true, anchorEl: null });\n  }\n\n  onDelete = () => {\n    this.props.onDelete();\n    this.handleCloseDelete();\n  }\n\n  onEdit = () => {\n    this.props.onEdit();\n    this.handleCloseMenu();\n  }\n\n  render() {\n    const { anchorEl, isOpenDelete } = this.state;\n    const { translate } = this.props;\n\n    return (\n      <div>\n        <IconButton\n          aria-owns={anchorEl ? 'actions-menu' : undefined}\n          aria-haspopup=\"true\" edge=\"end\"\n          aria-label=\"actions\"\n          onClick={this.handleOpenMenu}\n          disabled={this.props.disabled}\n        >\n          <MoreIcon />\n        </IconButton>\n        <Menu\n          id=\"actions-menu\"\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={this.handleCloseMenu}\n        >\n          <MenuItem onClick={this.onEdit}>{translate('table.edit')}</MenuItem>\n          <MenuItem onClick={this.handleOpenDelete}>{translate('table.delete')}</MenuItem>\n        </Menu>\n        <AlertDialog \n          isOpen={isOpenDelete} \n          onClose={this.handleCloseDelete} \n          onConfirm={this.onDelete} \n          title={translate('table.delete')}\n          description={translate('table.sure')}\n        />\n      </div>\n    );\n  }\n}\n\nActionsMenu.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired\n};\n\nexport default withLocalization(ActionsMenu);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  progress: {\n    backgroundColor: 'white',\n    opacity: 0.8,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    zIndex: 1800,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nfunction Progress(props) {\n  const { classes, isLoading } = props;\n\n  if(isLoading) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress />\n      </div>\n    );\n  }\n  else {\n    return null;\n  }\n}\n\nProgress.propTypes = {\n  isLoading: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles)(Progress);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport EnhancedTableHead from './TableHead';\r\nimport EnhancedTableToolbar from './TableToolbar';\r\nimport AlertDialog from '../AlertDialog';\r\nimport FilterDialog, { buildFilters } from '../FilterDialog';\r\nimport ActionsMenu from '../ActionsMenu';\r\nimport Progress from '../Progress';\r\nimport { CSVLink } from \"react-csv\";\r\nimport _ from 'lodash';\r\nimport { withLocalization } from '../localization';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  table: {\r\n    // minWidth: 1020,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n    position: 'relative'\r\n  },\r\n});\r\n\r\nlet _headers = [];\r\nclass EnhancedTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: [],\r\n      page: 0,\r\n      rowsPerPage: 5,\r\n      filters: buildFilters(props.rows, props.filters, props.defaultFilters),\r\n      sort: props.defaultSort || { field: '_id', dir: 'asc' },\r\n      isOpenDelete: false,\r\n      isOpenFilter: false,\r\n      filter: null,\r\n      exported: []\r\n    };\r\n\r\n    this.exportRef = React.createRef();\r\n  }\r\n\r\n  handleRequestSort = (event, property) => {\r\n    const field = property;\r\n    let dir = 'desc';\r\n\r\n    if (this.state.sort.field === property && this.state.sort.dir === 'desc') {\r\n      dir = 'asc';\r\n    }\r\n\r\n    const sort = { field, dir };\r\n    const { filters, page, rowsPerPage } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ sort });\r\n  };\r\n\r\n  handleSelectAllClick = event => {\r\n    if (event.target.checked) {\r\n      const data = this.props.store[this.props.data].data;\r\n      this.setState(state => ({ selected: data.filter(n => this.props.isDisabled(n) === false).map(n => n._id) }));\r\n      return;\r\n    }\r\n    this.setState({ selected: [] });\r\n  };\r\n\r\n  handleClick = (id) => {\r\n    const { selected } = this.state;\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    this.setState({ selected: newSelected });\r\n  };\r\n\r\n  handleChangePage = (event, page) => {\r\n    const { filters, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = event => {\r\n    const rowsPerPage = event.target.value;\r\n    const { filters, page, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ rowsPerPage });\r\n  };\r\n\r\n  isSelected = id => this.state.selected.indexOf(id) !== -1;\r\n\r\n  onChange = (filters, page, rowsPerPage, sort) => {\r\n    this.props.onChange(filters, { limit: rowsPerPage, skip: rowsPerPage * page }, sort, true);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  }\r\n\r\n  handleOpenFilter = () => {\r\n    this.setState({ isOpenFilter: true });\r\n  }\r\n\r\n  handleCloseFilter = () => {\r\n    this.setState({ isOpenFilter: false });\r\n  }\r\n\r\n  handleConfirmFilter = (state) => {\r\n    const filters = buildFilters(this.props.rows, this.props.filters, state);\r\n    const page = 0;\r\n    const { rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ filters, page, isOpenFilter: false });\r\n  }\r\n\r\n  onDeleteMultiple = async () => {\r\n    const { selected, filters, page, rowsPerPage, sort } = this.state;\r\n    await Promise.all(\r\n      selected.map(id => this.props.onDelete(id))\r\n    )\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ selected: [] })\r\n    this.handleCloseDelete();\r\n  }\r\n\r\n  strToDate = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleDateString(this.props.locale);\r\n  }\r\n\r\n  strToDateTime = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleString(this.props.locale, { hour12: false, year: 'numeric', month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit' });\r\n  }\r\n\r\n  getValue = (n, row) => {\r\n    const value = _.get(n, row.field);\r\n    if(row.cell) {\r\n      return row.cell(n);\r\n    }\r\n\r\n    switch (row.type) {\r\n      case 'date':\r\n        return this.strToDate(value);\r\n      case 'datetime':\r\n        return this.strToDateTime(value);\r\n      case 'bool':\r\n        return value ? 'T' : 'F';\r\n      case 'array':\r\n          return value.map(s => s[row.textField]).join(' | ');\r\n      default:\r\n        return value;\r\n    }\r\n  }\r\n\r\n  onDeleteSingle = async (id) => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    await this.props.onDelete(id);\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  }\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  }\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true });\r\n  }\r\n\r\n  onExport = async () => {\r\n    const { filters, sort } = this.state;\r\n    _headers = [];\r\n    this.props.rows.forEach(x => {\r\n      if(x.exportable !== false) {\r\n        const field = x.idField || x.field;\r\n        _headers.push({\r\n          label: this.props.translate('field.' + field),\r\n          key: x.field\r\n        });\r\n      }\r\n    });\r\n    const exported = await this.props.onChange(filters, undefined, sort, false);\r\n    if(exported) {\r\n      this.setState({ exported: exported.data });\r\n      this.exportRef.current.link.click();\r\n    }\r\n  }\r\n\r\n  handleRefresh = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort, true);\r\n  }\r\n\r\n  render() {\r\n    const { classes, rows, sortable, title, translate } = this.props;\r\n    const { selected, rowsPerPage, page, sort, isOpenDelete, isOpenFilter } = this.state;\r\n    const data = this.props.store[this.props.data];\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, data.total - page * rowsPerPage);\r\n\r\n    return (\r\n      <Paper className={classes.root}>\r\n        <EnhancedTableToolbar\r\n          numSelected={selected.length}\r\n          onDelete={this.handleOpenDelete}\r\n          onExport={this.onExport}\r\n          onFilter={this.handleOpenFilter}\r\n          title={title}\r\n          isFilterSet={this.state.filters.length > 0}\r\n          actions={this.props.actions}\r\n          onRefresh={this.handleRefresh}\r\n          exportDisabled={!this.props.filename}\r\n        />\r\n        <div className={classes.tableWrapper}>\r\n          <Progress isLoading={data.isLoading} />\r\n          <Table className={classes.table} aria-labelledby=\"tableTitle\" size=\"small\">\r\n            <EnhancedTableHead\r\n              numSelected={selected.length}\r\n              sort={sort}\r\n              onSelectAllClick={this.handleSelectAllClick}\r\n              onRequestSort={this.handleRequestSort}\r\n              rowCount={data.total}\r\n              rows={rows}\r\n              sortable={sortable}\r\n            />\r\n            <TableBody>\r\n              {data.data.map(n => {\r\n                const isSelected = this.isSelected(n._id);\r\n                const disabled = this.props.isDisabled(n);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    // onClick={event => this.handleClick(n._id)}\r\n                    role=\"checkbox\"\r\n                    aria-checked={isSelected}\r\n                    tabIndex={-1}\r\n                    key={n._id}\r\n                    selected={isSelected}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                      <Checkbox checked={isSelected} onClick={event => this.handleClick(n._id)} disabled={disabled} />\r\n                    </TableCell>\r\n\r\n                    {rows.map(row => (\r\n                      <TableCell\r\n                        key={row.field}\r\n                        align={row.type === 'num' ? \"right\" : \"left\"}\r\n                        padding={row.disablePadding ? 'none' : 'default'}\r\n                      >\r\n                        {this.getValue(n, row)}\r\n                      </TableCell>\r\n                    ))}\r\n                    <TableCell>\r\n                      <ActionsMenu\r\n                        onDelete={() => this.onDeleteSingle(n._id)}\r\n                        onEdit={() => this.props.onEdit(n)}\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 49 * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          labelRowsPerPage={translate('table.rowsPerPage')}\r\n          labelDisplayedRows={({ from, to, count }) => `${from}-${to} ${translate('table.of')} ${count}`}\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={data.total}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            'aria-label': translate('table.previousPage'),\r\n          }}\r\n          nextIconButtonProps={{\r\n            'aria-label': translate('table.nextPage'),\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDeleteMultiple}\r\n          title={translate('table.delete')}\r\n          description={translate('table.sure')}\r\n        />\r\n        <FilterDialog\r\n          isOpen={isOpenFilter}\r\n          onClose={this.handleCloseFilter}\r\n          onConfirm={this.handleConfirmFilter}\r\n          store={this.props.store}\r\n          rows={this.props.rows}\r\n          filters={this.props.filters}\r\n          defaultState={this.props.defaultFilters}\r\n        />\r\n        <CSVLink\r\n          data={this.state.exported}\r\n          headers={_headers}\r\n          filename={this.props.filename +'.csv'}\r\n          style={{ display: 'none' }}\r\n          ref={this.exportRef}\r\n          target=\"_blank\" />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTable.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  data: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  sortable: PropTypes.bool,\r\n  onDelete: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  filters: PropTypes.array,\r\n  isDisabled: PropTypes.func.isRequired,\r\n  filename: PropTypes.string,\r\n  actions: PropTypes.element,\r\n  defaultState: PropTypes.object,\r\n  defaultSort: PropTypes.object,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(EnhancedTable));","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing.unit,\r\n    width: 160,\r\n  },\r\n});\r\n\r\nfunction FormDialog(props) {\r\n  return (\r\n    <Dialog\r\n      onClose={props.onClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={props.isOpen}\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\r\n      {props.children}\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(FormDialog);\r\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Table from '../shared/table/Table';\nimport FormDialog from '../shared/FormDialog';\nimport Form from './Form';\n\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport moment from 'moment';\n\nconst buildRows = (filters) => {\n  const userFilterable = filters.find(x => x.field === 'userId' ) === undefined;\n\n  return [\n    { field: 'name', disablePadding: true },\n    { field: 'date', type: 'date' },\n    { field: '_project.name', type: 'enum', data: 'projects', idField: \"projectId\" },\n    { field: '_task.name', type: 'enum', data: 'tasks', idField: \"taskId\", filterable: false },\n    { field: '_user.name', type: 'enum', data: 'users', idField: \"userId\", filterable:  userFilterable },\n    { field: 'duration', type: 'num', filterable: false },\n  ];\n}\n\nconst FILTERS = [\n  {\n    label: 'Period', field: 'period', data: [\n      { _id: 1, name: \"today\", filters: [{ field: 'date', op: 'lte', value: moment().endOf('day').toDate() }, { field: 'date', op: 'gte', value: moment().startOf('day').toDate() }] },\n      { _id: 2, name: \"this week\", filters: [{ field: 'date', op: 'lte', value: moment().endOf('week').toDate() }, { field: 'date', op: 'gte', value: moment().startOf('week').toDate() }] },\n      { _id: 3, name: \"last week\", filters: [{ field: 'date', op: 'lte', value: moment().subtract(1, 'weeks').endOf('week').toDate() }, { field: 'date', op: 'gte', value: moment().subtract(1, 'weeks').startOf('week').toDate() }] },\n      { _id: 4, name: \"this month\", filters: [{ field: 'date', op: 'lte', value: moment().endOf('month').toDate() }, { field: 'date', op: 'gte', value: moment().startOf('month').toDate() }] },\n      { _id: 5, name: \"last month\", filters: [{ field: 'date', op: 'lte', value: moment().subtract(1, 'month').endOf('month').toDate() }, { field: 'date', op: 'gte', value: moment().subtract(1, 'month').startOf('month').toDate() }] },\n      { _id: 6, name: \"this year\", filters: [{ field: 'date', op: 'lte', value: moment().endOf('year').toDate() }, { field: 'date', op: 'gte', value: moment().startOf('year').toDate() }] },\n      { _id: 7, name: \"last year\", filters: [{ field: 'date', op: 'lte', value: moment().subtract(1, 'year').endOf('month').toDate() }, { field: 'date', op: 'gte', value: moment().subtract(1, 'year').startOf('year').toDate() }] },\n    ]\n  }\n];\n\nlet _rows;\nclass TableWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      x: null,\n      isOpen: false,\n    }\n\n    _rows = buildRows(props.filters);\n  }\n\n  handleClose = () => {\n    const { user } = this.props.user;\n    const { projectId, getOpenedTasks } = this.props.store;\n    getOpenedTasks(projectId, user);\n\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleChange = async (filters, page, render) => {\n    try {\n      const f = [...this.props.filters, ...filters];\n      return await this.props.store.getTimeRecords(f, page, render);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  onEdit = async (x) => {\n    const { user } = this.props.user;\n    await this.props.store.getOpenedTasks(x.projectId, user);\n    this.setState({ x, isOpen: true })\n  }\n\n  isDisabled = x => {\n    return this.props.user.user._id !== x.userId;\n  }\n\n  async componentDidMount() {\n    try {\n      this.props.store.getClients();\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  render() {\n    const { deleteTimeRecord } = this.props.store;\n\n    return (\n      <div>\n        <Table\n          rows={_rows}\n          data='timeRecords'\n          onChange={this.handleChange}\n          sortable={false}\n          onDelete={deleteTimeRecord}\n          title='Time records'\n          onEdit={this.onEdit}\n          store={this.props.store}\n          filters={FILTERS}\n          defaultFilters={this.props.defaultFilters}\n          isDisabled={this.isDisabled}\n          filename='records'\n        />\n        <FormDialog\n          title=\"Edit time record\"\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nTableWrapper.propTypes = {\n  filters: PropTypes.array.isRequired,\n  defaultFilters: PropTypes.object\n};\n\nexport default compose(\n  withStore,\n  withUser,\n)(TableWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from './Form';\nimport Table from './Table';\n\nimport compose from '../../compose';\nimport withUser from '../../consumers/withUser';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  const { user } = props.user;\n\n  return (\n    <Grid container spacing={16}>\n      <Grid item xs={12}>\n        <Paper className={props.classes.paper}>\n          <Form />\n        </Paper>\n      </Grid>\n      <Grid item xs={12}>\n        <Table \n          filters={[{ field: \"userId\", value: user._id }]}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withUser\n)(CenteredGrid);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GithubIcon from \"../icons/GithubIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://github.com/login/oauth/authorize?client_id=${props.config.id}&scope=user&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=1`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" tooltip=\"Github\" onClick={handleClick} disabled={props.disabled}>\n      <GithubIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GoogleIcon from \"../icons/GoogleIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=2&response_type=code&client_id=${props.config.id}`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\n      <GoogleIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M14.92 17.16l1.83-3.63h2.7l-4.51 8.97l-4.57-8.97h2.7l1.85 3.63m-4.29-8.5l-2.45 4.89H4.55L10.61 1.5l6.13 12.05h-3.63l-2.48-4.89z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\r\nimport StravaIcon from \"../icons/StravaIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    // const redirect = 'http://localhost:3000';\r\n    const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} variant={props.variant} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <StravaIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;\r\n","import React from 'react';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\n\r\nfunction FbIcon(props) {\r\n  return (\r\n    <SvgIcon {...props}>\r\n      <path d=\"M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z\" />\r\n    </SvgIcon>\r\n  );\r\n}\r\n\r\nexport default FbIcon;","import React from \"react\";\r\nimport FbIcon from \"../icons/FbIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <FbIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { withLocalization } from \"../shared/localization\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport classnames from \"classnames\";\n\nimport { Redirect } from \"react-router-dom\";\nimport withUser from \"../../consumers/withUser\";\nimport withStore from \"../../consumers/withStore\";\nimport compose from \"../../compose\";\nimport GithubButton from \"../shared/login/GithubButton\";\nimport GoogleButton from \"../shared/login/GoogleButton\";\nimport StravaButton from \"../shared/login/StravaButton\";\nimport FbButton from '../shared/login/FbButton';\nimport config from \"../../config.json\";\n\nconst styles = theme => ({\n  root: {\n    height: \"100vh\",\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n  footer: {\n    marginTop: 'auto',\n  },\n  image: {\n    backgroundImage: `url(${config.header})`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\"\n  },\n  paper: {\n    margin: theme.spacing.unit * 8,\n    marginBottom: theme.spacing.unit * 4,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    // backgroundColor: theme.palette.secondary.main,\n    width: 128,\n    height: 128\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing.unit\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n    marginBottom: theme.spacing.unit\n  },\n  center: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column'\n  }\n});\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright  \"}\n      <Link color=\"inherit\" href={process.env.REACT_APP_HOMEPAGE}>\n        {process.env.REACT_APP_NAME +' '}\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      token: \"\",\n      disabled: false\n    };\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault();\n\n    this.setState({ disabled: true });\n\n    const { username, password, token } = this.state;\n    try {\n      const user = await this.props.user.auth(\n        username.trim().toLowerCase(),\n        password,\n        token\n      );\n      if (user === null) {\n        this.props.user.showMsg(\"Unauthorized\");\n      }\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n\n    this.setState({ disabled: false });\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleClickReset = async () => {\n    const { username } = this.state;\n\n    if (username) {\n      try {\n        await this.props.user.reset(username.trim().toLowerCase());\n        this.props.user.showMsg(\"Mail sended.\");\n      } catch (error) {\n        this.props.user.showError(error);\n      }\n    }\n  };\n\n  render() {\n    const { classes, user, translate } = this.props;\n    const { username, password, disabled, oAuth, token } = this.state;\n\n    const { from } = this.props.location.state || {\n      from: { pathname: config.home }\n    };\n\n    if (oAuth) return null;\n    if (user.user) return <Redirect to={from} />;\n\n    return (\n      <Grid container component=\"main\" className={classnames(classes.root, config.header ? null : classes.center)}>\n        <CssBaseline />\n        {\n          config.header &&\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\n        }\n        <Grid item xs={12} sm={8} md={5} component={'div'} elevation={6} square className={classes.container}>\n          <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={config.logo} />\n            {/* <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography> */}\n\n            <GithubButton\n              fullWidth\n              disabled={disabled}\n              title={translate(\"githubSignIn\")}\n              config={config.github}\n            />\n            <GoogleButton\n              fullWidth\n              disabled={disabled}\n              title={translate(\"googleSignIn\")}\n              config={config.google}\n            />\n            <FbButton\n              fullWidth\n              disabled={disabled}\n              title={translate(\"fbSignIn\")}\n              config={config.fb}\n            />\n            <StravaButton\n              fullWidth\n              disabled={disabled}\n              title={translate(\"stravaSignIn\")}\n              config={config.strava}\n            />\n\n            <Typography variant=\"body1\">{translate(\"useAccount\")}</Typography>\n\n            <form className={classes.form} onSubmit={this.handleSubmit}>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"username\">\n                  {translate(\"field.username\")}\n                </InputLabel>\n                <Input\n                  id=\"username\"\n                  name=\"username\"\n                  autoComplete=\"username\"\n                  autoFocus\n                  value={username}\n                  onChange={this.handleChange}\n                />\n              </FormControl>\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"password\">\n                  {translate(\"field.password\")}\n                </InputLabel>\n                <Input\n                  name=\"password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  value={password}\n                  onChange={this.handleChange}\n                />\n              </FormControl>\n              {config[\"2fa\"] && (\n                <FormControl margin=\"normal\" fullWidth>\n                  <InputLabel htmlFor=\"password\">\n                    {translate(\"field.token\")}\n                  </InputLabel>\n                  <Input\n                    name=\"token\"\n                    id=\"token\"\n                    value={token}\n                    onChange={this.handleChange}\n                  />\n                </FormControl>\n              )}\n              {/* <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            /> */}\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                disabled={disabled}\n              >\n                {translate(\"signIn\")}\n              </Button>\n              {/* <Grid container>\n                <Grid item xs>\n                  <Link href=\"#\" variant=\"body2\" onClick={this.handleClickReset}>\n                    Forgot password?\n                  </Link>\n                </Grid>\n                <Grid item>\n                  <Link  variant=\"body2\">\n                    {\"Don't have an account? Sign Up\"}\n                  </Link>\n                </Grid>\n              </Grid> */}\n            </form>\n          </div>\n          <Copyright />\n          <img className={classes.footer} width=\"100%\" alt=\"websupport\" src=\"/img/ws.jpg\" onClick={() => window.open(\"https://www.websupport.sk/?ref=NTksG1s7\", '_blank')} />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nLogin.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default compose(\n  withStyles(styles),\n  withUser,\n  withStore,\n  withLocalization\n)(Login);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextInput from '../shared/TextInput';\nimport Form from '../shared/form/Form';\nimport Select from '../shared/Select';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport compose from '../../compose';\n\nconst styles = theme => ({\n  collaborators: {\n    display: 'flex',\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: '',\n  collaborators: [],\n  key:0\n};\n\nclass FormWrapper extends React.Component {\n  state = this.props.data || INIT_STATE;\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit = async () => {\n    const { addProject, getProjects, editProject } = this.props.store;\n    const { user } = this.props.user;\n\n    try {\n      if (this.state._id) {\n        await editProject(this.state, user);\n      }\n      else {\n        await addProject(this.state, user);\n      }\n      getProjects();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  async componentDidMount() {\n    const { getUsers } = this.props.user;\n    const { user } = this.props.user;\n    const filters = [{ field: '_id', op: \"ne\", value: user._id }];\n    try {\n      await getUsers(filters);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { name, collaborators, key } = this.state;\n    const { users } = this.props.user;\n\n    return (\n      <Form onSubmit={this.handleSubmit} inline>\n        <TextInput\n          value={name}\n          field=\"name\"\n          onChange={this.handleChange}\n          required\n        />\n        <div className={classes.collaborators}>\n          <Select\n            value={collaborators}\n            field=\"collaborators\"\n            onChange={this.handleChange}\n            data={users.data}\n            textField=\"name\"\n            fullWidth\n            multiple\n          />\n        </div>\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func\n};\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser\n)(FormWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Paper from '@material-ui/core/Paper';\nimport ActionsMenu from '../ActionsMenu';\nimport Progress from '../Progress';\nimport _ from 'lodash';\n\nconst styles = theme => ({\n  listWrapper: {\n    position: 'relative'\n  }\n});\n\nclass ListComponent extends React.Component {\n\n  componentDidMount() {\n    this.props.onChange();\n  }\n\n  onDelete = async (id) => {\n    const { onDelete, onChange } = this.props;\n\n    await onDelete(id);\n    onChange();\n  }\n\n  render() {\n    const { data, onClick, primaryTextField, secondaryTextField, onEdit, isDisabled, classes } = this.props;\n\n    return (\n      <Paper className={classes.listWrapper}>\n        <Progress isLoading={data.isLoading} />\n        <List>\n          {data.data.map(x => (\n            <ListItem key={x._id} button onClick={() => onClick(x._id)}>\n              <ListItemText primary={_.get(x, primaryTextField)} secondary={secondaryTextField ? _.get(x, secondaryTextField) : null} />\n              <ListItemSecondaryAction>\n                <ActionsMenu \n                  disabled={isDisabled(x)}\n                  onEdit={() => onEdit(x)}\n                  onDelete={() => this.onDelete(x._id)}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </Paper>\n    );\n  }\n}\n\nListComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  primaryTextField: PropTypes.string.isRequired,\n  secondaryTextField: PropTypes.string,\n  data: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isDisabled: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(ListComponent);","import React from 'react';\nimport List from '../shared/list/List';\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport FormDialog from '../shared/FormDialog';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter } from \"react-router\";\nimport Form from './Form';\n\n\nconst styles = theme => ({\n  list: {\n    marginTop: theme.spacing.unit\n  },\n});\n\nclass ListWrapper extends React.Component {\n  state = {\n    x: null,\n    isOpen: false\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleClick = async (id) => {\n    const path = this.props.history.location.pathname + \"/\" + id;\n    this.props.history.push(path);\n  }\n\n  handleChange = (filters) => {\n    try {\n      this.props.store.getProjects(this.props.user.user);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  handleEdit = (x) => {\n    this.setState({ x, isOpen: true })\n  }\n\n  handleDelete = async (id) => {\n    const { deleteProject } = this.props.store;\n    try {\n      await deleteProject(id);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  isDisabled = x => {\n    return this.props.user.user._id !== x.userId;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { projects } = this.props.store;\n\n    return (\n      <div className={classes.list}>\n        <List\n          data={projects}\n          primaryTextField=\"name\"\n          onClick={this.handleClick}\n          onChange={this.handleChange}\n          onEdit={this.handleEdit}\n          onDelete={this.handleDelete}\n          isDisabled={this.isDisabled}\n        />\n        <FormDialog\n          title=\"Edit project\"\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser,\n  withRouter\n)(ListWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from './Form';\nimport List from './List';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  return (\n    <Grid container spacing={24}>\n      <Grid item xs={12}>\n        <Paper className={props.classes.paper}>\n          <Form />\n        </Paper>\n        <List />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CenteredGrid);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextInput from '../shared/TextInput';\nimport Form from '../shared/form/Form';\nimport Select from '../shared/Select';\n\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport compose from '../../compose';\n\nconst styles = theme => ({\n  name: {\n    display: 'flex',\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: '',\n  assignedToId: null,\n  stateId: null,\n  typeId: null\n};\n\nclass FormWrapper extends React.Component {\n  state = this.props.data || INIT_STATE;\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit = async () => {\n    const { addTask, refreshTasks, editTask } = this.props.store;\n    const { user } = this.props.user;\n\n    try {\n      if (this.state._id) {\n        await editTask(this.state);\n      }\n      else {\n        await addTask(this.state, user, this.props.projectId);\n      }\n      refreshTasks();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { enums } = this.props.store;\n    const { name, assignedToId, stateId, typeId } = this.state;\n\n    const { users } = this.props.store;\n\n    return (\n      <Form onSubmit={this.handleSubmit} inline>\n        <div className={classes.name}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            required\n            fullWidth\n          />\n        </div>\n        <Select\n          value={assignedToId}\n          field=\"assignedToId\"\n          onChange={this.handleChange}\n          data={users.data}\n          textField=\"name\"\n        />\n        <Select\n          value={stateId}\n          field=\"stateId\"\n          onChange={this.handleChange}\n          data={enums.data.filter(x => x.enumTypeId === 3)}\n          required\n          textField=\"name\"\n        />\n        <Select\n          value={typeId}\n          field=\"typeId\"\n          onChange={this.handleChange}\n          data={enums.data.filter(x => x.enumTypeId === 4)}\n          textField=\"name\"\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func,\n  projectId: PropTypes.string.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser\n)(FormWrapper);","import React from 'react';\nimport Table from '../shared/table/Table';\nimport FormDialog from '../shared/FormDialog';\nimport Form from './Form';\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\n\nconst ROWS = [\n  { field: 'name', disablePadding: true },\n  { field: '_assignedTo.name', type: 'enum', data: 'users', idField: \"assignedToId\", sortable: false, },\n  { field: '_state.name', type: 'enum', data: 'enums', idField: \"stateId\", sortable: false, \n    getData: enums => enums.filter(x => x.enumTypeId === 3) \n  },\n  { field: '_type.name', type: 'enum', data: 'enums', idField: \"typeId\", sortable: false,\n    getData: enums => enums.filter(x => x.enumTypeId === 4) \n}\n];\n\nconst FILTERS = [];\n\nclass TableWrapper extends React.Component {\n  state = {\n    x: null,\n    isOpen: false\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleChange = async (filters, page, sort, render) => {\n    try {\n      return await this.props.store.getTasks(this.props.projectId, filters, page, sort, render);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  onEdit = (x) => {\n    this.setState({ x, isOpen: true })\n  }\n\n  isDisabled = x => {\n    return this.props.user.user._id !== x.userId && this.props.user.user._id !== x.assignedToId;\n  }\n\n  render() {\n    const { deleteTask, project } = this.props.store;\n    const filename = project ? `${project.name}_tasks` : null;\n\n    return (\n      <div>\n        <Table\n          rows={ROWS}\n          data='tasks'\n          onChange={this.handleChange}  \n          onDelete={deleteTask}\n          title='Tasks'\n          onEdit={this.onEdit}\n          store={this.props.store}\n          filters={FILTERS}\n          isDisabled={this.isDisabled}\n          filename={filename}\n        />\n        <FormDialog\n          title=\"Edit task\"\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  withStore,\n  withUser,\n)(TableWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from '../tasks/Form';\nimport Table from '../tasks/Table';\n\nimport withStore from '../../consumers/withStore';\nimport compose from '../../compose';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nclass CenteredGrid extends React.Component {\n  async componentDidMount() {\n    try {\n      await this.props.store.getProject(this.props.match.params.id);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  render() {\n    return (\n      <Grid container spacing={24}>\n        <Grid item xs={12}>\n          <Paper className={this.props.classes.paper}>\n            <Form\n              projectId={this.props.match.params.id}\n            />\n          </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <Table\n            projectId={this.props.match.params.id}\n          />\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withStore\n)(CenteredGrid);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    width: 160\n  }\n});\n\nfunction FormDialog(props) {\n  return (\n    <Dialog\n      onClose={props.onClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={props.isOpen}\n      fullWidth\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\n      {props.children}\n      <DialogActions>\n        {props.onCancel && (\n          <Button onClick={props.onCancel} color=\"primary\">\n            Cancel\n          </Button>\n        )}\n        {props.onConfirm && (\n          <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n            OK\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nFormDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  onConfirm: PropTypes.func,\n  onCancel: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  children: PropTypes.element.isRequired\n};\n\nexport default withStyles(styles)(FormDialog);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst styles = theme => ({\n\n});\n\nclass ImageAvatars extends React.Component {\n  render() {\n    const { value, defaultValue, tooltip, onClick, className, placement } = this.props;\n\n    return (\n      <Tooltip title={tooltip} aria-label={tooltip} placement={placement}>\n        <Avatar\n          style={{ textTransform: 'uppercase' }}\n          alt={defaultValue}\n          src={value ? \"data:image/jpeg;base64,\" + value : null}\n          onClick={onClick}\n          className={className}\n        >\n          {tooltip[0]}\n        </Avatar>\n      </Tooltip>\n    );\n  }\n}\n\nImageAvatars.propTypes = {\n  classes: PropTypes.object.isRequired,\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  placement: PropTypes.string,\n  tooltip: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles)(ImageAvatars);\n","export const getStyles = theme => ({\n  col: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: 'column',\n    marginBottom: theme.spacing.unit\n  },\n  row: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: 'row',\n  },\n  center: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  },\n  paper: {\n    padding: theme.spacing.unit\n  },\n  flex: {\n    display: 'flex'\n  },\n  grow: {\n    display: 'flex',\n    flex:1\n  }\n});","import React, { useRef } from \"react\";\r\n\r\nconst withUtils = WrappedComponent => {\r\n  return props => {\r\n    const canvasRef = useRef(null);\r\n    \r\n    const resize = (src, height, filename = null) => {\r\n      return new Promise(resolve => {\r\n        const image = new Image();\r\n        const canvas = canvasRef.current;\r\n        image.onload = () => {\r\n          if (image.height > height) {\r\n            image.width *= height / image.height;\r\n            image.height = height;\r\n          }\r\n          const ctx = canvas.getContext(\"2d\");\r\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n          canvas.width = image.width;\r\n          canvas.height = image.height;\r\n          ctx.drawImage(image, 0, 0, image.width, image.height);\r\n\r\n          if(filename) {\r\n            canvas.toBlob((blob) => {\r\n              blob.name = filename;\r\n              resolve(blob);;\r\n            }, \"image/jpeg\");\r\n          }\r\n          else {\r\n            resolve(canvas.toDataURL(\"image/jpeg\"));\r\n          }\r\n        };\r\n\r\n        image.src = src;\r\n      });\r\n    }\r\n\r\n    const postFile = async (url, file, key) => {  \r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n    \r\n      const response = await fetch(`${url}/api/file`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Basic \" + key\r\n        },\r\n        body: formData\r\n      });\r\n    \r\n      if (response.status === 200) {\r\n        return await response.json();\r\n      } else {\r\n        console.log(await response.text())\r\n        throw new Error(response.statusText);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <WrappedComponent\r\n          {...props}\r\n          utils={{\r\n            resize,\r\n            postFile\r\n          }}\r\n        />\r\n        <canvas style={{ display: \"none\" }} ref={canvasRef} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withUtils;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Avatar from './Avatar';\nimport { getStyles } from \"../style\";\nimport withUtils from '../utils/withUtils';\n\nconst styles = theme => ({\n  ...getStyles(theme),\n  bigAvatar: {\n    margin: theme.spacing.unit,\n    width: 80,\n    height: 80\n  }\n});\n\nclass ImageAvatars extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.inputRef = React.createRef();\n  }\n\n  onChange = (event) => {\n    event.preventDefault();\n\n    const reader = new FileReader();\n    reader.onloadend = async () => {\n      let data = await this.props.utils.resize(reader.result, 320);\n      data = data.split(',').pop();\n      this.props.onChange(this.props.field, data);\n    }\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  onClick = () => {\n    if(!this.props.disabled) {\n      this.inputRef.current.click();\n    }\n  }\n\n  render() {\n    const { classes, value, tooltip, disabled } = this.props;\n\n    return (\n      <div className={classes.center} style={{ cursor: disabled ? 'default' : 'pointer' }}>\n        <Avatar \n          className={classes.bigAvatar}\n          value={value}\n          onClick={this.onClick}\n          tooltip={tooltip}\n          placement=\"right\"\n        />\n        <input\n          ref={this.inputRef}\n          style={{ display: \"none\" }}\n          type=\"file\"\n          accept=\"image/jpeg\"\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nImageAvatars.propTypes = {\n  classes: PropTypes.object.isRequired,\n  field: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  tooltip: PropTypes.string.isRequired,\n  disabled: PropTypes.bool\n};\n\nexport default withUtils(withStyles(styles)(ImageAvatars));\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <FormControlLabel\r\n      className={classes.formControl}\r\n      control={\r\n        <Switch\r\n          checked={props.value}\r\n          onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n          value={props.field}\r\n          disabled={props.disabled}\r\n        />\r\n      }\r\n      label={props.label}\r\n    />\r\n  );\r\n}\r\n\r\nSwitchComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(SwitchComponent);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"../shared/Dialog\";\r\nimport AvatarPicker from \"../shared/avatar/AvatarPicker\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\nimport Switch from \"../shared/Switch\";\r\nimport { getStyles } from \"../shared/style\";\r\nimport config from \"../../config.json\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport _ from 'lodash';\r\n\r\nconst styles = theme => ({\r\n  ...getStyles(theme),\r\n  heading: {\r\n    marginLeft: theme.spacing.unit\r\n  },\r\n  detailHeading: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginTop: theme.spacing.unit * 3\r\n  },\r\n  actions: {\r\n    float: \"right\",\r\n    margin: theme.spacing.unit\r\n  }\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\"\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\"\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\"\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\"\r\n  },\r\n  tel: \"\",\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null\r\n};\r\n\r\nconst buildState = (user) => {\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false\r\n  };\r\n}\r\n\r\nclass FormWrapper extends React.Component {\r\n  state = buildState(this.props.user.user);\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword ? \"\" : translate('field.passwordWeak');\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword ? \"\" : translate('field.passwordNoMatch');\r\n\r\n    this.setState((state) => ({ \r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: { ...this.state.repeatedPassword, errorText: errorTextRepeatedPassword }\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  }\r\n\r\n  validEmail = async () => {\r\n    const { translate} = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({ email: {\r\n      ...state.email,\r\n      isLoading: true\r\n    }}));\r\n\r\n    const isValid = !email.value || await this.isValid(email.value);\r\n    const errorText = isValid ? \"\" : translate('field.emailInUse');\r\n\r\n    this.setState((state) => ({ \r\n      email: { ...state.email, errorText, isLoading: false }\r\n    }));\r\n      \r\n    return isValid;\r\n  }\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id);\r\n  }\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({ username: {\r\n      ...state.username,\r\n      isLoading: true\r\n    }}));\r\n\r\n    const isValid = !username.value || await this.isValid(username.value);\r\n    const errorText = isValid ? \"\" : translate('field.usernameInUse');\r\n\r\n    this.setState((state) => ({ \r\n      username: { ...state.username, errorText, isLoading: false }\r\n    }));\r\n      \r\n    return isValid;\r\n  }\r\n\r\n  handleChangeAvatar = (name, value) => {\r\n    this.setState({ [name]: value, avatarChanged: true });\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      await this.props.user.generateSecret();\r\n      this.handleOpenSecretDialog();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleOpenSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: true });\r\n  };\r\n\r\n  handleCloseSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: false });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged\r\n    } = this.state;\r\n\r\n    const isValid = this.validPasswords() && await this.validEmail() && await this.validUsername();\r\n    if(!isValid) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel,\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      password,\r\n      repeatedPassword,\r\n      username,\r\n      name,\r\n      email,\r\n      tel,\r\n      otp,\r\n      avatar,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} disabled={disabled}>\r\n          <AvatarPicker\r\n            field=\"avatar\"\r\n            onChange={this.handleChangeAvatar}\r\n            value={avatar}\r\n            disabled={disabled}\r\n            tooltip={name || \"\"}\r\n          />\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                type=\"email\"\r\n                value={email.value}\r\n                field=\"email.value\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled || email.isLoading}\r\n                onBlur={this.validEmail}\r\n                errorText={email.errorText}\r\n                required\r\n              />\r\n            </div>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={tel}\r\n                field=\"tel\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n              />\r\n            </div>\r\n          </div>\r\n          <TextInput\r\n            value={username.value}\r\n            field=\"username.value\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled || username.isLoading}\r\n            onBlur={this.validUsername}\r\n            errorText={username.errorText}\r\n          />\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={password.value}\r\n                field=\"password.value\"\r\n                type=\"new-password\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n                onBlur={this.validPasswords}\r\n                errorText={password.errorText}\r\n              />\r\n            </div>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={repeatedPassword.value}\r\n                field=\"repeatedPassword.value\"\r\n                type=\"password\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n                onBlur={this.validPasswords}\r\n                errorText={repeatedPassword.errorText}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={address}\r\n                field=\"address\"\r\n                type=\"address\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n              />\r\n            </div>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={postCode}\r\n                field=\"postCode\"\r\n                type=\"postCode\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={city}\r\n                field=\"city\"\r\n                type=\"city\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n              />\r\n            </div>\r\n            <div className={classes.col}>\r\n              <TextInput\r\n                value={country}\r\n                field=\"country\"\r\n                type=\"country\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n              />\r\n            </div>\r\n          </div>\r\n          {config[\"2fa\"] && (\r\n            <div className={classes.row}>\r\n              <div className={classes.col}>\r\n                <div>\r\n                  <Switch\r\n                    value={otp}\r\n                    field=\"otp\"\r\n                    onChange={this.handleChange}\r\n                    disabled={disabled}\r\n                  />\r\n                  <Button\r\n                    color=\"primary\"\r\n                    disabled={disabled || !this.state.otp}\r\n                    onClick={this.generateSecret}\r\n                  >\r\n                    {this.props.translate(\"generateSecret\")}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Form>\r\n        <Dialog\r\n          title={this.props.translate(\"secret\")}\r\n          isOpen={this.state.isOpenSecretDialog}\r\n          onConfirm={this.handleCloseSecretDialog}\r\n        >\r\n          <div className={classes.center}>\r\n            {this.props.user.secret && (\r\n              <img\r\n                src={\"data:image/jpeg;base64,\" + this.props.user.secret.qrCode}\r\n                alt=\"secret\"\r\n                width={320}\r\n                height={320}\r\n              />\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  disabled: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(FormWrapper);\r\n","import config from './config.json';\n\nconst permissions = {\n  user: 1,\n  store: 2,\n  mail: 4, \n  file: 8,\n  report: 16,\n  tags: 1024,\n  tasks: 2048,\n  events: 4096,\n  enums: 2,\n  activities: config.strava ? 2 : 16\n}\n\nexport default permissions;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from '../shared/login/GoogleButton';\r\nimport StravaButton from '../shared/login/StravaButton';\r\nimport FbButton from '../shared/login/FbButton';\r\nimport permissions from '../../permissions';\r\nimport config from '../../config.json';\r\n\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from '../shared/localization';\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  },\r\n  heading: {\r\n    marginLeft: theme.spacing.unit\r\n  },\r\n  connected: {\r\n    padding: theme.spacing.unit,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start'\r\n  }\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { user, hasPermission } = props.user;\r\n  const disabled = !hasPermission(permissions.user);\r\n  const connectTitle = props.translate('connect');\r\n\r\n  return (\r\n    <Grid container spacing={16}>\r\n      <Grid item xs={12} sm={8}>\r\n        <Paper className={props.classes.paper}>\r\n          <Form disabled={disabled} />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper className={props.classes.connected}>\r\n          <Typography variant=\"h6\" className={props.classes.heading}>\r\n            {props.translate('connected')}\r\n          </Typography>\r\n          <GithubButton config={config.github} disabled={disabled || user.github} title={props.user.user.github ? props.user.user.github.name : connectTitle} />\r\n          <GoogleButton config={config.google} disabled={disabled || user.google} title={props.user.user.google ? props.user.user.google.name : connectTitle} />\r\n          <FbButton config={config.fb} disabled={disabled || user.fb} title={props.user.user.fb ? props.user.user.fb.name : connectTitle} />\r\n          <div>\r\n            <StravaButton config={config.strava} disabled={disabled} title={props.user.user.strava ? props.translate('sync') : connectTitle} />\r\n            {config.strava && props.user.user.strava && props.user.user.strava.synced &&\r\n              <span> ({props.translate('lastSync')} {new Date(props.user.user.strava.synced).toLocaleDateString(props.locale)}) </span>\r\n            }\r\n          </div>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser, withLocalization)(CenteredGrid);","import React, { PureComponent } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } from \"recharts\";\nimport compose from \"../../compose\";\nimport withStore from \"../../consumers/withStore\";\nimport { withTheme } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  paper: {\n    width: \"100%\",\n    padding: theme.spacing.unit,\n    overflowX: \"auto\",\n    margin: \"auto\"\n  }\n});\n\nclass Example extends PureComponent {\n  render() {\n    const { dateStats } = this.props.store;\n    const { theme } = this.props;\n\n    return (\n      <Paper className={this.props.classes.paper}>\n        <BarChart width={800} height={300} data={dateStats.data}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"name\" />\n          <YAxis />\n          <Tooltip />\n          {/* <Legend /> */}\n          <Bar dataKey=\"duration\" fill={theme.palette.primary.main} />\n        </BarChart>\n      </Paper>\n    );\n  }\n}\n\nexport default compose(withStore, withStyles(styles), withTheme())(Example);\n","import React, { PureComponent } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {\r\n  PieChart, Pie, Tooltip,\r\n} from 'recharts';\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport { withTheme } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  }\r\n});\r\n\r\nclass Example extends PureComponent {\r\n  render() {\r\n    const { projectStats, userStats } = this.props.store;\r\n    const { theme } = this.props;\r\n\r\n    return (\r\n      <Paper className={this.props.classes.paper}>\r\n        <PieChart width={300} height={300}>\r\n          <Pie dataKey=\"val\" data={projectStats.data} cx={150} cy={150} innerRadius={80}  outerRadius={100} fill={theme.palette.secondary.main} label />\r\n          <Pie dataKey=\"val\" isAnimationActive={false} data={userStats.data} cx={150} cy={150} outerRadius={70} fill={theme.palette.primary.main} />\r\n          <Tooltip />\r\n        </PieChart>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStore, withStyles(styles), withTheme())(Example);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '../records/Table';\nimport DateChart from './DateChart';\nimport UserChart from './UserChart';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  const defaultFilters = {\n    period: 4\n  };\n\n  return (\n    <Grid container spacing={16}>\n      <Grid item xs={12} md={4} className={props.classes.center}>\n        <UserChart />\n      </Grid>\n      <Grid item xs={12} md={8}>\n        <DateChart />\n      </Grid>\n      <Grid item xs={12}>\n        <Table \n          filters={[]}\n          defaultFilters={defaultFilters}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n// import LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from '../shared/localization';\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport config from '../../config.json';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: \"100%\",\r\n    display: \"block\", // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    }\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\r\n      .spacing.unit * 3}px`\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128\r\n  },\r\n  loader: {\r\n    marginTop: theme.spacing.unit,\r\n  }\r\n});\r\n\r\nlet _code, _provider, _mutex;\r\nclass OAuthComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const urlParams = new URLSearchParams(this.props.location.search);\r\n    _provider = urlParams.get(\"provider\");\r\n    _code = urlParams.get(\"code\");\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (_provider && !_mutex) {\r\n      _mutex = true;\r\n      const { user } = this.props;\r\n      try {\r\n        if (user.user) {\r\n          await user.updateOauth(_provider, _code);\r\n          this.props.history.replace('/account');\r\n        }\r\n        else {\r\n          if(!await user.oAuth(_provider, _code)) {\r\n            user.showMsg('Unauthorized');\r\n          }\r\n          this.props.history.replace(config.home);\r\n        }\r\n      }\r\n      catch (error) {\r\n        this.props.user.showError(error);\r\n        this.props.history.replace('/login');\r\n      }\r\n      _mutex = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n\r\n    if (!_provider) return <Redirect to={{ pathname: config.home }} />;\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar} src={config.logo} />\r\n          <div className={classes.loader}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              {translate('loading')}\r\n            </Typography>\r\n          </div>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nOAuthComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser, withStore, withLocalization)(OAuthComponent);\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport NumInput from \"../shared/NumInput\";\nimport Form from \"../shared/form/Form\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\nimport { getStyles } from '../shared/style';\n\nconst styles = theme => ({\n  ...getStyles(theme)\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  address: \"\",\n  ico: \"\",\n  dic: \"\",\n  icdph: \"\",\n  rate: 0,\n  reportId: \"\",\n  activity: \"\",\n};\n\nclass FormWrapper extends React.Component {\n  state = this.props.data || INIT_STATE;\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const { addClient, getClients, editClient } = this.props.store;\n    const { user } = this.props.user;\n\n    try {\n      if (this.state._id) {\n        await editClient(this.state, user);\n      } else {\n        await addClient(this.state, user);\n      }\n      getClients();\n      if(this.props.onSubmit) this.props.onSubmit();\n      this.setState(INIT_STATE);\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, address, ico, dic, icdph, rate, reportId, activity } = this.state;\n\n    return (\n      <Form onSubmit={this.handleSubmit} disabled={disabled}>\n        <div className={classes.row}>\n          <div className={classes.col}>\n            <TextInput\n              label=\"Name\"\n              value={name}\n              field=\"name\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n        </div>\n        <div className={classes.row}>\n          <div className={classes.col}>\n            <TextInput\n              className={classes.col}\n              label=\"Address\"\n              value={address}\n              field=\"address\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n        </div>\n        <div className={classes.row}>\n          <div className={classes.col}>\n            <TextInput\n              label=\"IO\"\n              value={ico}\n              field=\"ico\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n          <div className={classes.col}>\n            <TextInput\n              className={classes.col}\n              label=\"DI\"\n              value={dic}\n              field=\"dic\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n          <div className={classes.col}>\n            <TextInput\n              className={classes.col}\n              label=\"I DPH\"\n              value={icdph}\n              field=\"icdph\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n        </div>\n        <div className={classes.row}>\n          <div className={classes.col}>\n            <TextInput\n              label=\"Activity\"\n              value={activity}\n              field=\"activity\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n          <div className={classes.col}>\n            <NumInput\n              label=\"Rate\"\n              value={rate}\n              field=\"rate\"\n              onChange={this.handleChange}\n              min={0}\n              step={0.5}\n              required\n            />\n          </div>\n          <div className={classes.col}>\n            <TextInput\n              className={classes.col}\n              label=\"ReportId\"\n              value={reportId}\n              field=\"reportId\"\n              onChange={this.handleChange}\n              required\n              disabled={disabled}\n            />\n          </div>\n        </div>\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func,\n  disabled: PropTypes.bool,\n  data: PropTypes.object\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from 'react';\nimport List from '../shared/list/List';\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport FormDialog from '../shared/FormDialog';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter } from \"react-router\";\nimport Form from './Form';\n\n\nconst styles = theme => ({\n  list: {\n    marginTop: theme.spacing.unit\n  },\n});\n\nclass ListWrapper extends React.Component {\n  state = {\n    x: null,\n    isOpen: false\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleClick = async (id) => {\n    const path = this.props.history.location.pathname + \"/\" + id;\n    this.props.history.push(path);\n  }\n\n  handleChange = (filters) => {\n    try {\n      this.props.store.getClients();\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  handleEdit = (x) => {\n    this.setState({ x, isOpen: true })\n  }\n\n  handleDelete = async (id) => {\n    const { deleteClient } = this.props.store;\n    try {\n      await deleteClient(id);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  isDisabled = x => {\n    return this.props.user.user._id !== x.userId;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { clients } = this.props.store;\n\n    return (\n      <div className={classes.list}>\n        <List\n          data={clients}\n          primaryTextField=\"name\"\n          onClick={this.handleClick}\n          onChange={this.handleChange}\n          onEdit={this.handleEdit}\n          onDelete={this.handleDelete}\n          isDisabled={this.isDisabled}\n        />\n        <FormDialog\n          title=\"Edit client\"\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser,\n  withRouter\n)(ListWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from './Form';\nimport List from './List';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  return (\n    <Grid container spacing={24}>\n      <Grid item xs={12}>\n        <Paper className={props.classes.paper}>\n          <Form />\n        </Paper>\n        <List />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CenteredGrid);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { DateTimePicker } from \"material-ui-pickers\";\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 160\r\n  },\r\n});\r\n\r\nfunction DatePickerComponent(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <DateTimePicker\r\n      className={classes.formControl}\r\n      keyboard\r\n      ampm={false}\r\n      label={props.label}\r\n      format=\"MM/DD/YYYY HH:mm\"\r\n      clearable={!props.required}\r\n      mask={value =>\r\n        // handle clearing outside if value can be changed outside of the component\r\n        value ? [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, \":\", /\\d/, /\\d/] : []\r\n      }\r\n      value={props.value || null}\r\n      onChange={(value) => props.onChange(props.field, value ? value.toDate() : null)}\r\n      disableOpenOnEnter\r\n      animateYearScrolling={false}\r\n      style={{flex: 1, display: 'flex'}}\r\n      disabled={props.disabled}\r\n    />\r\n  );\r\n}\r\n\r\nDatePickerComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.instanceOf(Date),\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(DatePickerComponent);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport DateTimePicker from \"../shared/DateTimePicker\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\nimport moment from 'moment';\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || this.getInitState(props);\n  }\n\n  getInitState = (props) => {\n    const date = props.date || moment().add(1,'days').toDate();\n\n    return {\n      start: date,\n      end: date,\n      name: \"\",\n      eventTypeId: null\n    }\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleChangeStart = (name, value) => {\n    if(value.getTime() > this.state.end.getTime()) {\n      this.setState({ start: value, end: value})\n    }\n    else {\n      this.setState({ start: value });\n    }\n  }\n\n  handleChangeEnd = (name, value) => {\n    if(value.getTime() < this.state.start.getTime()) {\n      this.setState({ start: value, end: value})\n    }\n    else {\n      this.setState({ end: value });\n    }\n  }\n\n  handleSubmit = async () => {\n    const {\n      addEvent,\n      refreshEvents,\n      editEvent\n    } = this.props.store;\n    const { user } = this.props.user;\n\n    try {\n      if (this.state._id) {\n        await editEvent(this.state, user);\n      } else {\n        await addEvent(this.state, user);\n      }\n      refreshEvents();\n      this.setState(this.getInitState(this.props));\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, eventTypeId, start, end } = this.state;\n    const { enums } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            label=\"Name\"\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          label=\"Type\"\n          value={eventTypeId}\n          field=\"eventTypeId\"\n          onChange={this.handleChange}\n          data={enums.data}\n          textField=\"name\"\n          disabled={disabled}\n        />\n        <div className={classes.nameTextInput}>\n          <DateTimePicker\n            label=\"Start\"\n            value={start}\n            field=\"start\"\n            onChange={this.handleChangeStart}\n            required\n            disabled={disabled}\n          />\n          <DateTimePicker\n            label=\"End\"\n            value={end}\n            field=\"end\"\n            onChange={this.handleChangeEnd}\n            required\n            disabled={disabled}\n          />\n        </div>\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Table from '../shared/table/Table';\nimport FormDialog from '../shared/FormDialog';\nimport Form from './Form';\n\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport moment from 'moment';\n\nconst ROWS = [\n  { field: 'name', disablePadding: true, label: 'Name' },\n  { field: '_eventType.name', label: 'Type', type: 'enum', data: 'enums', idField: \"eventTypeId\" },\n  { field: 'start', type: 'datetime', label: 'Start', filterable: false },\n  { field: 'end', type: 'datetime', label: 'End', filterable: false },\n  { field: '_user.name', label: 'User', type: 'enum', data: 'users', idField: \"userId\" }\n];\n\nconst FILTERS = [\n  {\n    label: 'Period', field: 'period', data: [\n      { _id: 1, name: \"today\", filters: [{ field: 'start', op: 'lte', value: moment().endOf('day').toDate() }, { field: 'start', op: 'gte', value: moment().startOf('day').toDate() }] },\n      { _id: 2, name: \"this week\", filters: [{ field: 'start', op: 'lte', value: moment().endOf('week').toDate() }, { field: 'start', op: 'gte', value: moment().startOf('week').toDate() }] },\n      { _id: 3, name: \"last week\", filters: [{ field: 'start', op: 'lte', value: moment().subtract(1, 'weeks').endOf('week').toDate() }, { field: 'start', op: 'gte', value: moment().subtract(1, 'weeks').startOf('week').toDate() }] },\n      { _id: 4, name: \"this month\", filters: [{ field: 'start', op: 'lte', value: moment().endOf('month').toDate() }, { field: 'start', op: 'gte', value: moment().startOf('month').toDate() }] },\n      { _id: 5, name: \"last month\", filters: [{ field: 'start', op: 'lte', value: moment().subtract(1, 'month').endOf('month').toDate() }, { field: 'start', op: 'gte', value: moment().subtract(1, 'month').startOf('month').toDate() }] },\n    ]\n  }\n];\n\nclass TableWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      x: null,\n      isOpen: false\n    }\n  }\n\n  handleChangeClient = (name, value) => {\n    this.setState({ clientId: value });\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleChange = async (filters, page) => {\n    try {\n      return await this.props.store.getEvents(filters, page);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  onEdit = async (x) => {\n    this.setState({ x, isOpen: true })\n  }\n\n  isDisabled = x => {\n    return this.props.user.user._id !== x.userId;\n  }\n\n  render() {\n    const { deleteEvent } = this.props.store;\n\n    return (\n      <div>\n        <Table\n          rows={ROWS}\n          data='events'\n          onChange={this.handleChange}\n          sortable={false}\n          onDelete={deleteEvent}\n          title='Events'\n          onEdit={this.onEdit}\n          store={this.props.store}\n          filters={FILTERS}\n          isDisabled={this.isDisabled}\n        />\n        <FormDialog\n          title=\"Edit event\"\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nTableWrapper.propTypes = {\n  filters: PropTypes.array.isRequired\n};\n\nexport default compose(\n  withStore,\n  withUser,\n)(TableWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from './Form';\nimport Table from './Table';\n\nimport compose from '../../compose';\nimport withUser from '../../consumers/withUser';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  return (\n    <Grid container spacing={16}>\n      <Grid item xs={12}>\n        <Paper className={props.classes.paper}>\n          <Form />\n        </Paper>\n      </Grid>\n      <Grid item xs={12}>\n        <Table />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withUser\n)(CenteredGrid);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  enumTypeId: 1,\n  disabled: false,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addEnum,\n      refreshEnums,\n      editEnum\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editEnum(this.state);\n      } else {\n        await addEnum(this.state);\n      }\n      refreshEnums();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, enumTypeId, key } = this.state;\n    const { enumTypes } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={enumTypeId}\n          field=\"enumTypeId\"\n          onChange={this.handleChange}\n          data={enumTypes.data}\n          textField=\"name\"\n          required\n          disabled={disabled}\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Table from '../shared/table/Table';\nimport FormDialog from '../shared/FormDialog';\nimport Form from './Form';\n\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport { withLocalization } from '../shared/localization'\n\nconst ROWS = [\n  { field: 'name', disablePadding: true },\n  { field: '_enumType.name', type: 'enum', data: 'enumTypes', idField: \"enumTypeId\", sortable: false },\n  { field: 'key', type: 'num' },\n  { field: 'disabled', type: 'bool' },\n];\n\nclass TableWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      x: null,\n      isOpen: false\n    }\n  }\n\n  handleChangeClient = (name, value) => {\n    this.setState({ clientId: value });\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleChange = async (filters, page, sort, render) => {\n    try {\n      return await this.props.store.getEnums(filters, sort, page, render);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  onEdit = async (x) => {\n    this.setState({ x, isOpen: true })\n  }\n\n  isDisabled = x => {\n    return false;\n  }\n\n  render() {\n    const { deleteEnum } = this.props.store;\n    const { translate } = this.props;\n\n    return (\n      <div>\n        <Table\n          rows={ROWS}\n          data='enums'\n          onChange={this.handleChange}\n          onDelete={deleteEnum}\n          title={translate('enums')}\n          onEdit={this.onEdit}\n          store={this.props.store}\n          filters={[]}\n          isDisabled={this.isDisabled}\n          filename='enums'\n        />\n        <FormDialog\n          title={translate('enum')}\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nTableWrapper.propTypes = {\n  filters: PropTypes.array.isRequired\n};\n\nexport default compose(\n  withStore,\n  withUser,\n  withLocalization\n)(TableWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from './Form';\nimport Table from './Table';\n\nimport compose from '../../compose';\nimport withUser from '../../consumers/withUser';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  return (\n    <Grid container spacing={16}>\n      <Grid item xs={12}>\n        <Paper className={props.classes.paper}>\n          <Form />\n        </Paper>\n      </Grid>\n      <Grid item xs={12}>\n        <Table />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withUser\n)(CenteredGrid);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\"; // needed for dayClick\nimport { withTheme } from '@material-ui/core/styles';\n// import withStyles from '@material-ui/core/styles/withStyles';\n\n// must manually import the stylesheets for each plugin\nimport \"@fullcalendar/core/main.css\";\nimport \"@fullcalendar/daygrid/main.css\";\nimport \"@fullcalendar/timegrid/main.css\";\nimport \"./Calendar.css\";\n\nclass Calendar extends React.Component {\n  calendarComponentRef = React.createRef();\n\n  state = {\n    defaultView: \"dayGridMonth\",\n    defaultDate: new Date()\n  };\n\n  eventDataTransform = event => {\n    event.id = event._id;\n    event.title = event[this.props.textField];\n    event.color = this.props.getColor(event);\n    return event;\n  };\n\n  render() {\n    const { defaultDate, defaultView } = this.state;\n\n    return (\n      <div className=\"Calendar\">\n        <FullCalendar\n          defaultView={defaultView}\n          defaultDate={defaultDate}\n          header={{\n            left: \"today, prev, next, title\",\n            // right: \"dayGridMonth, timeGridWeek, timeGridDay,listWeek\"\n            right: \"dayGridMonth, timeGridWeek, timeGridDay\"\n          }}\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n          ref={this.calendarComponentRef}\n          weekends\n          events={this.props.data.data}\n          dateClick={this.handleDateClick}\n          eventClick={this.handleEventClick}\n          eventDataTransform={this.eventDataTransform}\n          datesRender={this.handleViewDisplay}\n          eventColor={this.props.theme.palette.primary.main}\n        />\n      </div>\n    );\n  }\n\n  handleDateClick = (args) => {\n    this.props.onSelect(null, args.date);\n  };\n\n  handleEventClick = args => {\n    const event = this.props.data.data.find(x => x._id === args.event.id);\n    this.props.onSelect(event, args.date);\n  };\n\n  handleViewDisplay = args => {\n    const filters = [\n      { field: \"start\", op: \"gte\", value: args.view.activeStart },\n      { field: \"end\", op: \"lte\", value: args.view.activeEnd }\n    ];\n    this.props.onChange(filters, { limit: 200, skip: 0 }, null);\n    this.setState({\n      defaultView: args.view.type,\n      defaultDate: args.view.activeStart\n    });\n  };\n}\n\nCalendar.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n  textField: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  getColor: PropTypes.func.isRequired\n};\n\nexport default withTheme()(Calendar);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Calendar from \"../shared/calendar/Calendar\";\nimport FormDialog from '../shared/FormDialog';\nimport Form from '../events/Form';\n\nimport compose from \"../../compose\";\nimport withUser from \"../../consumers/withUser\";\nimport withStore from \"../../consumers/withStore\";\nimport { withTheme } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nclass CenteredGrid extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      x: null,\n      isOpen: false,\n      date: null\n    };\n  }\n\n  getColor = (event) => {\n    const { theme } = this.props;\n    if(!event._eventType) {\n      return theme.palette.secondary.main;\n    }\n\n    switch(event._eventType.key) {\n      case 1:\n        return theme.palette.primary.main;\n      default:\n        return theme.palette.secondary.main;\n    }\n  }\n\n  handleSelect = (x, date) => {\n    this.setState({ x, isOpen: true, date })\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleChange = async (filters, page, sort) => {\n    try {\n      return await this.props.store.getEvents(filters, page);\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { events } = this.props.store;\n    const { user } = this.props.user;\n    const disabled = this.state.x && this.state.x.userId !== user._id;\n\n    return (\n      <Grid container spacing={16}>\n        <Grid item xs={12}>\n          <Paper className={this.props.classes.paper}>\n            <Calendar\n              onSelect={this.handleSelect}\n              onChange={this.handleChange}\n              textField=\"name\"\n              data={events}\n              getColor={this.getColor}\n            />\n            <FormDialog\n              title=\"Event\"\n              onClose={this.handleClose}\n              isOpen={this.state.isOpen}\n            >\n              <Form \n                data={this.state.x} \n                onSubmit={this.handleClose} \n                date={this.state.date} \n                disabled={disabled}\n              />\n            </FormDialog>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default compose(withStyles(styles), withUser, withStore, withTheme())(CenteredGrid);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport QrReader from \"react-qr-reader\";\nimport Button from \"@material-ui/core/Button\";\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport Typography from \"@material-ui/core/Typography\";\nimport compose from \"../../compose\";\nimport { getStyles } from \"../shared/style\";\n\nconst styles = theme => ({\n  ...getStyles(theme)\n});\n\nclass LegacyModeExample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      delay: 500,\n      legacy: true\n    };\n\n    this.handleScan = this.handleScan.bind(this);\n    this.openImageDialog = this.openImageDialog.bind(this);\n\n    this.myRef = React.createRef();\n  }\n  handleScan(result) {\n    if (result) {\n      const r = result.split('.');\n      if(r.length === 2) {\n        try {\n          this.props.user.verify(r[0], r[1]);\n        } catch (error) {\n          this.props.user.showError(error);\n        }\n      }\n    }\n  }\n  handleError(err) {\n    console.error(err);\n  }\n  openImageDialog() {\n    this.setState({ legacy: true }, () => {\n      this.myRef.current.openImageDialog();\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    const previewStyle = {\n      height: 320,\n      width: 320,\n    };\n\n    return (\n      <div className={classes.row}>\n        <div className={classes.col}>\n          <div className={classes.center}>\n            <QrReader\n              ref={this.myRef}\n              delay={this.state.delay}\n              style={previewStyle}\n              onError={this.handleError}\n              onScan={this.handleScan}\n              legacyMode={this.state.legacy}\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={this.openImageDialog}\n            >\n              Scan\n            </Button>\n          </div>\n        </div>\n        <div className={classes.col}>\n          <Paper className={classes.paper}>\n            <Typography variant='h6'>\n              Data\n            </Typography>\n\n            {this.props.user.signature && \n              <div>\n                <Typography variant='body1'>\n                  {this.props.user.signature.data}\n                </Typography>\n              </div>\n            }\n          </Paper>\n        </div>\n      </div>\n    );\n  }\n}\n\nLegacyModeExample.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser\n)(LegacyModeExample);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\nimport { getStyles } from \"../shared/style\";\nimport Form from \"../shared/form/Form\";\nimport TextInput from \"../shared/TextInput\";\n\nconst styles = theme => ({\n  ...getStyles(theme)\n});\n\nclass LegacyModeExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: \"\"\n    };\n  }\n\n  handleSubmit = () => {\n    try {\n      this.props.user.sign(this.state.data);\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.row}>\n        <div className={classes.col}>\n          <Paper className={classes.paper}>\n            <Form onSubmit={this.handleSubmit}>\n              <div className={classes.flex}>\n                <TextInput\n                  label=\"Data\"\n                  value={this.state.data}\n                  field=\"data\"\n                  onChange={this.handleChange}\n                  required\n                  multiline\n                  fullWidth\n                  rows={8}\n                />\n              </div>\n            </Form>\n          </Paper>\n        </div>\n        <div className={classes.col}>\n          <div className={classes.center}>\n            {this.props.user.signature && (\n              <img\n                src={\n                  \"data:image/jpeg;base64,\" + this.props.user.signature.qrCode\n                }\n                alt=\"signature\"\n                width={320}\n                height={320}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLegacyModeExample.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser\n)(LegacyModeExample);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = theme => ({\n\n});\n\nfunction IconButtonComponent(props) {\n  const { color, onClick, tooltip, disabled, className } = props;\n  return (\n    <Tooltip title={tooltip}>\n      <IconButton\n        color={color}\n        onClick={onClick}\n        aria-label={tooltip}\n        disabled={disabled}\n        className={className}\n      >\n        {props.children}\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nIconButtonComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onClick: PropTypes.func.isRequired,\n  color: PropTypes.string,\n  tooltip: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n};\n\nexport default withStyles(styles)(IconButtonComponent);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { getStyles } from \"./style\";\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport IconButton from './IconButton';\r\nimport withUtils from './utils/withUtils';\r\n\r\nconst styles = theme => ({\r\n  ...getStyles(theme),\r\n  button: {\r\n    margin: theme.spacing.unit\r\n  }\r\n});\r\n\r\nclass ImageAvatars extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.inputRef = React.createRef();\r\n  }\r\n\r\n  onChange = async (event) => {\r\n    event.preventDefault();\r\n\r\n    let file = event.target.files[0];\r\n    if(this.props.mimeType === 'image/jpeg') {\r\n      var urlCreator = window.URL || window.webkitURL;\r\n      var src = urlCreator.createObjectURL(file);\r\n      file = await this.props.utils.resize(src, 640, file.name);\r\n    }\r\n\r\n    this.props.onChange(this.props.field, file)\r\n  }\r\n\r\n  onClick = () => {\r\n    if(!this.props.disabled) {\r\n      this.inputRef.current.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes, value, disabled, mimeType } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <IconButton className={classes.button} tooltip=\"Attach file\" color={value ? 'primary' : 'default'} onClick={this.onClick} disabled={disabled}>\r\n          <AttachFileIcon />\r\n        </IconButton>\r\n        <input\r\n          ref={this.inputRef}\r\n          style={{ display: \"none\" }}\r\n          type=\"file\"\r\n          accept={mimeType}\r\n          onChange={this.onChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageAvatars.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  field: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  disabled: PropTypes.bool,\r\n  mimeType: PropTypes.string\r\n};\r\n\r\nexport default withUtils(withStyles(styles)(ImageAvatars));\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextInput from '../shared/TextInput';\nimport Form from '../shared/form/Form';\nimport Select from '../shared/Select';\nimport Switch from '../shared/Switch';\n\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport compose from '../../compose';\nimport FileInput from '../shared/FileInput';\n\nconst styles = theme => ({\n  collaborators: {\n    display: 'flex',\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: '',\n  likes: [],\n  likesCnt: 0,\n  typesId: [],\n  unavailable: false,\n  _img: null\n};\n\nclass FormWrapper extends React.Component {\n  state = this.props.data || INIT_STATE;\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit = async () => {\n    const { addTag, getTags, editTag, tags } = this.props.store;\n    const { user } = this.props.user;\n\n    try {\n      if (this.state._id) {\n        await editTag(this.state, user);\n      }\n      else {\n        await addTag(this.state, user);\n      }\n\n      getTags(tags.filters);\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { name, typesId, disabled, _img } = this.state;\n    const { enums } = this.props.store;\n\n    return (\n      <Form onSubmit={this.handleSubmit} inline>\n        <TextInput\n          label=\"Name\"\n          value={name}\n          field=\"name\"\n          onChange={this.handleChange}\n          required\n        />\n        <div className={classes.collaborators}>\n          <Select\n            label=\"Types\"\n            value={typesId}\n            field=\"typesId\"\n            onChange={this.handleChange}\n            data={enums.data}\n            textField=\"name\"\n            fullWidth\n            multiple\n          />\n        </div>\n        <FileInput \n          mimeType='image/jpeg'\n          value={_img}\n          field='_img'\n          onChange={this.handleChange}\n          disabled={this.state._id !== undefined}\n        />\n        <Switch\n          label=\"\"\n          value={disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func\n};\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser\n)(FormWrapper);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport classnames from \"classnames\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Avatar from '../avatar/Avatar';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport red from \"@material-ui/core/colors/red\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport VizSensor from 'react-visibility-sensor';\n\nconst styles = theme => ({\n  card: {\n    margin: theme.spacing.unit,\n    width: '100%',\n    maxWidth: 480\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\" // 16:9\n  },\n  actions: {\n    display: \"flex\"\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  avatar: {\n    backgroundColor: red[500]\n  }\n});\n\nclass RecipeReviewCard extends React.Component {\n  state = {\n    imgViz: false,\n    img: null\n  }\n\n  state = { expanded: false };\n\n  handleExpandClick = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  onViz = async (isVisible) => {\n    const data = await this.props.onViz();\n    this.setState({ imgViz: true });\n    \n    if(data) {\n      var reader = new FileReader();\n      reader.onloadend = () => {\n        this.setState({ img: reader.result });\n      }\n      reader.readAsDataURL(data); \n    }\n  }\n\n  render() {\n    const { classes, actions, children, cardActions, primary, secondary, avatar, defaultAvatar, tooltip, content } = this.props;\n    return (\n      <VizSensor\n        partialVisibility\n        onChange={this.onViz}\n      >\n        <Card className={classes.card}>\n          <CardHeader\n            avatar={\n              <Avatar\n                className={classes.bigAvatar}\n                defaultValue={defaultAvatar}\n                value={avatar}\n                tooltip={tooltip}\n              />\n            }\n            action={actions}\n            title={primary}\n            subheader={secondary}\n          />\n          <CardMedia\n            className={classes.media}\n            image={this.state.img || 'https://next.material-ui.com/static/images/cards/paella.jpg'}\n            title=\"media\"\n            style={{\n              opacity: this.state.imgViz ? 1 : 0.25,\n              transition: 'opacity 500ms linear'\n            }}\n          />\n          <CardContent>\n            {content}\n          </CardContent>\n          <CardActions className={classes.actions} disableActionSpacing>\n            {cardActions}\n            {children && (\n              <IconButton\n                className={classnames(classes.expand, {\n                  [classes.expandOpen]: this.state.expanded\n                })}\n                onClick={this.handleExpandClick}\n                aria-expanded={this.state.expanded}\n                aria-label=\"Show more\"\n              >\n                <ExpandMoreIcon />\n              </IconButton>\n            )}\n          </CardActions>\n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>{children}</CardContent>\n          </Collapse>\n        </Card>\n      </VizSensor>\n    );\n  }\n}\n\nRecipeReviewCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  primary: PropTypes.string.isRequired,\n  secondary: PropTypes.string.isRequired,\n  actions: PropTypes.element,\n  children: PropTypes.element,\n  cardActions: PropTypes.func,\n  tooltip: PropTypes.string.isRequired,\n  avatar: PropTypes.string.isRequired,\n  defaultAvatar: PropTypes.string.isRequired,\n  content: PropTypes.element.isRequired,\n  onViz: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(RecipeReviewCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  spacer: {\n    flex: '1 1 auto',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n});\n\nlet EnhancedTableToolbar = props => {\n  const { classes, onFilter, title, isFilterSet, actions, onRefresh } = props;\n\n  return (\n    <Toolbar\n      className={classes.root}\n    >\n      <div className={classes.title}>\n        <Typography variant=\"h6\" id=\"tableTitle\">\n          {title}\n        </Typography>\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {actions}\n        <Tooltip title=\"Filter list\">\n          <IconButton aria-label=\"Filter list\" color={isFilterSet ? \"primary\" : \"default\"} onClick={onFilter}>\n            <FilterListIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title=\"Refresh list\">\n          <IconButton aria-label=\"Refresh list\" onClick={onRefresh}>\n            <RefreshIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onFilter: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  isFilterSet: PropTypes.bool.isRequired,\n  actions: PropTypes.element,\n  onRefresh: PropTypes.func.isRequired\n};\n\nexport default withStyles(toolbarStyles)(EnhancedTableToolbar);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport MessageIcon from \"@material-ui/icons/Message\";\nimport IconButton from \"../IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport ActionsMenu from \"../ActionsMenu\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Card from \"./Card\";\nimport ListToolbar from \"./ListToolbar\";\nimport _ from \"lodash\";\nimport Progress from \"../Progress\";\nimport FilterDialog, { buildFilters } from \"../FilterDialog\";\nimport { withTheme } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  listWrapper: {\n    position: \"relative\"\n  },\n  list: {\n    // paddingTop: theme.spacing.unit,\n    // paddingBottom: theme.spacing.unit,\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  }\n});\n\nclass ListComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpenFilter: false,\n      filters: buildFilters(props.rows, props.filters, props.defaultFilters)\n    };\n\n    this.exportRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.props.onChange(this.state.filters);\n  }\n\n  handleOpenFilter = () => {\n    this.setState({ isOpenFilter: true });\n  };\n\n  handleCloseFilter = () => {\n    this.setState({ isOpenFilter: false });\n  };\n\n  onDelete = async id => {\n    const { onDelete, onChange } = this.props;\n\n    await onDelete(id);\n    onChange(this.state.filters);\n  };\n\n  handleConfirmFilter = state => {\n    const filters = buildFilters(this.props.rows, this.props.filters, state);\n    this.props.onChange(filters);\n    this.setState({ filters, isOpenFilter: false });\n  };\n\n  handleRefresh = () => {\n    this.props.onChange(this.state.filters);\n  };\n\n  render() {\n    const {\n      data,\n      primaryTextField,\n      secondaryTextField,\n      onEdit,\n      isDisabled,\n      classes,\n      onLike,\n      isLiked,\n      avatarField,\n      defaultAvatarField,\n      tooltipField,\n      onMsg,\n      cntField,\n      theme,\n      onViz\n    } = this.props;\n\n    return (\n      <Paper className={classes.listWrapper}>\n        <ListToolbar\n          onFilter={this.handleOpenFilter}\n          isFilterSet={this.state.filters.length > 0}\n          actions={this.props.actions}\n          title={this.props.title}\n          onRefresh={this.handleRefresh}\n        />\n        <Progress isLoading={data.isLoading} />\n        <div className={classes.list}>\n          {data.data.map(x => {\n            return (\n              <Card\n                content={this.props.getContent(x)}\n                primary={_.get(x, primaryTextField)}\n                secondary={_.get(x, secondaryTextField)}\n                avatar={_.get(x, avatarField)}\n                defaultAvatar={_.get(x, defaultAvatarField)}\n                tooltip={_.get(x, tooltipField)}\n                onLike={() => onLike(x)}\n                onViz={() => onViz(x)}\n                actions={\n                  <ActionsMenu\n                    disabled={isDisabled(x)}\n                    onEdit={() => onEdit(x)}\n                    onDelete={() => this.onDelete(x)}\n                  />\n                }\n                cardActions={\n                  <>\n                    <Tooltip title=\"Like\">\n                      <Button\n                        onClick={() => onLike(x._id)}\n                        style={{ color: isLiked(x)? theme.palette.primary.main : 'rgba(0, 0, 0, 0.54)' }}\n                      >\n                        <FavoriteIcon />\n                        {_.get(x, cntField)}\n                      </Button>\n                    </Tooltip>\n                    <IconButton tooltip=\"Send message\" onClick={() => onMsg(x)}>\n                      <MessageIcon />\n                    </IconButton>\n                  </>\n                }\n              />\n            );\n          })}\n        </div>\n        <FilterDialog\n          isOpen={this.state.isOpenFilter}\n          onClose={this.handleCloseFilter}\n          onConfirm={this.handleConfirmFilter}\n          store={this.props.store}\n          rows={this.props.rows}\n          filters={this.props.filters}\n          defaultState={this.props.defaultFilters}\n        />\n      </Paper>\n    );\n  }\n}\n\nListComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  primaryTextField: PropTypes.string.isRequired,\n  secondaryTextField: PropTypes.string.isRequired,\n  cntField: PropTypes.string.isRequired,\n  data: PropTypes.array.isRequired,\n  // onClick: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  isDisabled: PropTypes.func.isRequired,\n  onLike: PropTypes.func.isRequired,\n  onMsg: PropTypes.func.isRequired,\n  isLiked: PropTypes.func.isRequired,\n  avatarTextField: PropTypes.string.isRequired,\n  defaultAvatarField: PropTypes.string.isRequired,\n  tooltipField: PropTypes.string.isRequired,\n  actions: PropTypes.element,\n  store: PropTypes.object.isRequired,\n  rows: PropTypes.array.isRequired,\n  filters: PropTypes.array.isRequired,\n  title: PropTypes.string,\n  getContent: PropTypes.func.isRequired,\n  onGet: PropTypes.func.isRequired\n};\n\nexport default withTheme()(withStyles(styles)(ListComponent));\n","import React from 'react';\nimport CardList from '../shared/list/CardList';\nimport compose from '../../compose';\nimport withStore from '../../consumers/withStore';\nimport withUser from '../../consumers/withUser';\nimport FormDialog from '../shared/FormDialog';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRouter } from \"react-router\";\nimport Form from './Form';\n\n\nconst styles = theme => ({\n  list: {\n    marginTop: theme.spacing.unit\n  },\n});\n\nconst _rows = [\n  { field: 'user.name', label: 'Tag', type: 'enum', data: 'enums', idField: \"typesId\" },\n];\n\nclass ListWrapper extends React.Component {\n  state = {\n    x: null,\n    isOpen: false\n  }\n\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  }\n\n  handleOpen = () => {\n    this.setState({ isOpen: true });\n  }\n\n  handleChange = async (filters) => {\n    try {\n      await this.props.store.getTags(filters);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  handleEdit = (x) => {\n    this.setState({ x, isOpen: true })\n  }\n\n  handleDelete = async (x) => {\n    const { deleteTag } = this.props.store;\n    try {\n      await deleteTag(x);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  isDisabled = x => {\n    return this.props.user.user._id !== x.userId;\n  }\n\n  handleLike = async (id) => {\n    const { likeTag } = this.props.store;\n    const { user } = this.props.user;\n\n    try {\n      await likeTag(id, user);\n    }\n    catch (error) {\n      this.props.user.showError(error);\n    }\n  }\n\n  handleMsg = (x) => {\n    const { user } = this.props.user;\n    window.open(`mailto:${x._user.email}?subject=APP: ${x.name}&body=%0D%0A${user.name}`, \"_self\");\n  }\n\n  isLiked = x => {\n    return x.likes.includes(this.props.user.user._id);\n  }\n\n  getContent = (x) => {\n    return (\n      <>\n        <Typography variant=\"subtitle1\" color=\"textPrimary\">\n          {x.name}\n        </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {x._tagTypesStr || 'iadne'}\n        </Typography>\n      </>\n    );\n  }\n\n  getFilters = () => [\n    {\n      label: 'Likes', field: 'likes', data: [\n        { _id: 1, name: \"Me\", filters: [{ field: 'likes', value: this.props.user.user._id }] },\n      ]\n    }\n  ];\n\n  handleViz = async x => {\n    return x.imgId ? await this.props.store.getFile(x.imgId) : null;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { tags } = this.props.store;\n\n    return (\n      <div className={classes.list}>\n        <CardList\n          data={tags}\n          getContent={this.getContent}\n          primaryTextField=\"_user.name\"\n          secondaryTextField=\"_dateStr\"\n          avatarField=\"_user.avatar\"\n          tooltipField=\"_user.name\"\n          cntField=\"likesCnt\"\n          onChange={this.handleChange}\n          onEdit={this.handleEdit}\n          onDelete={this.handleDelete}\n          isDisabled={this.isDisabled}\n          onLike={this.handleLike}\n          isLiked={this.isLiked}\n          filters={this.getFilters()}\n          onViz={this.handleViz}\n          rows={_rows}\n          store={this.props.store}\n          title=\"Tags\"\n          onMsg={this.handleMsg}\n        />\n        <FormDialog\n          title=\"Edit tag\"\n          onClose={this.handleClose}\n          isOpen={this.state.isOpen}\n        >\n          <Form\n            data={this.state.x}\n            onSubmit={this.handleClose}\n          />\n        </FormDialog>\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  withStore,\n  withUser,\n  withRouter\n)(ListWrapper);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Form from './Form';\nimport List from './List';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n  return (\n    <Grid container spacing={24}>\n      <Grid item xs={12}>\n        <Paper className={props.classes.paper}>\n          <Form />\n        </Paper>\n        <List />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CenteredGrid);","import React from \"react\";\n// import PropTypes from \"prop-types\";\nimport Table from \"../shared/table/Table\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Select from \"../shared/Select\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\nimport classnames from \"classnames\";\n// import TextInput from \"../shared/TextInput\";\n// import InputAdornment from '@material-ui/core/InputAdornment';\n// import Search from '@material-ui/icons/Search';\n\nimport compose from \"../../compose\";\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport moment from \"moment\";\nimport StravaButton from \"../shared/login/StravaButton\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport { getStyles } from \"../shared/style\";\nimport { withLocalization } from '../shared/localization';\nimport config from '../../config.json';\n\nconst styles = theme => ({\n  ...getStyles(theme),\n  paper: {\n    marginBottom: theme.spacing.unit,\n    padding: theme.spacing.unit\n  },\n  footer: {\n    marginTop: theme.spacing.unit\n  }\n});\n\nconst getOpData = (translate) => [\n  { _id: 1, name: translate(\"totalDistance\") },\n  { _id: 2, name: translate(\"totalElevation\") },\n  { _id: 3, name: translate(\"totalTime\") },\n  { _id: 8, name: translate(\"totalKudos\") },\n  { _id: 4, name: translate(\"maxDistance\") },\n  { _id: 5, name: translate(\"maxElevation\") },\n  { _id: 6, name: translate(\"maxTime\") },\n  { _id: 9, name: translate(\"maxKudos\") },\n  { _id: 7, name: translate(\"count\") }\n];\n\nconst getGroupData = (translate) => [\n  // { _id: 8, name: \"#tatranskakoza (12.11. - 12.12.)\" },\n  { _id: 1, name: translate(\"thisWeek\") },\n  { _id: 2, name: translate(\"lastWeek\") },\n  { _id: 3, name: translate(\"thisMonth\") },\n  { _id: 4, name: translate(\"lastMonth\") },\n  { _id: 5, name: translate(\"thisYear\") },\n  { _id: 6, name: translate(\"myMonths\") },\n  { _id: 7, name: translate(\"myYears\") }\n];\n\nconst getTypeData = (translate) => [\n  { _id: 0, name: translate(\"all\") },\n  { _id: 1, name: translate(\"ride\") },\n  { _id: 2, name: translate(\"run\") },\n  { _id: 3, name: translate(\"walk\") },\n  { _id: 4, name: translate(\"hike\") }\n];\n\nconst buildField = groupId => {\n  switch (groupId) {\n    case 6:\n      return \"month\";\n    case 7:\n      return \"year\";\n    default:\n      return \"userId\";\n  }\n};\n\nconst buildOp = opId => {\n  switch (opId) {\n    case 1:\n    case 2:\n    case 3:\n    case 8:\n      return \"sum\";\n    case 4:\n    case 5:\n    case 6:\n    case 9:\n      return \"max\";\n    case 7:\n    default:\n      return \"count\";\n  }\n};\n\nconst buildOpField = opId => {\n  switch (opId) {\n    case 1:\n    case 4:\n      return \"dis\";\n    case 2:\n    case 5:\n      return \"total_elevation_gain\";\n    case 3:\n    case 6:\n      return \"moving_time\";\n    case 8:\n    case 9:\n      return \"kudos_count\";\n    default:\n      return \"_id\";\n  }\n};\n\nconst buildGroup = (groupId, opId) => {\n  return {\n    field: buildField(groupId),\n    op: buildOp(opId),\n    opField: buildOpField(opId)\n  };\n};\n\nconst buildTypeFilters = typeId => {\n  switch (typeId) {\n    case 1:\n      return [{ field: \"type\", value: \"Ride\" }];\n    case 2:\n      return [{ field: \"type\", value: \"Run\" }];\n    case 3:\n      return [{ field: \"type\", value: \"Walk\" }];\n    case 4:\n      return [{ field: \"type\", value: \"Hike\" }];\n    case 0:\n    default:\n      return [];\n  }\n};\n\nconst buildGroupFilters = (groupId, user) => {\n  switch (groupId) {\n    case 1:\n      return [\n        {\n          field: \"start_date\",\n          op: \"lte\",\n          value: moment()\n            .endOf(\"week\")\n            .toDate()\n        },\n        {\n          field: \"start_date\",\n          op: \"gte\",\n          value: moment()\n            .startOf(\"week\")\n            .toDate()\n        }\n      ];\n    case 2:\n      return [\n        {\n          field: \"start_date\",\n          op: \"lte\",\n          value: moment()\n            .subtract(1, \"weeks\")\n            .endOf(\"week\")\n            .toDate()\n        },\n        {\n          field: \"start_date\",\n          op: \"gte\",\n          value: moment()\n            .subtract(1, \"weeks\")\n            .startOf(\"week\")\n            .toDate()\n        }\n      ];\n    case 3:\n      return [\n        {\n          field: \"start_date\",\n          op: \"lte\",\n          value: moment()\n            .endOf(\"month\")\n            .toDate()\n        },\n        {\n          field: \"start_date\",\n          op: \"gte\",\n          value: moment()\n            .startOf(\"month\")\n            .toDate()\n        }\n      ];\n    case 4:\n      return [\n        {\n          field: \"start_date\",\n          op: \"lte\",\n          value: moment()\n            .subtract(1, \"month\")\n            .endOf(\"month\")\n            .toDate()\n        },\n        {\n          field: \"start_date\",\n          op: \"gte\",\n          value: moment()\n            .subtract(1, \"month\")\n            .startOf(\"month\")\n            .toDate()\n        }\n      ];\n    case 5:\n      return [\n        {\n          field: \"start_date\",\n          op: \"lte\",\n          value: moment()\n            .endOf(\"year\")\n            .toDate()\n        },\n        {\n          field: \"start_date\",\n          op: \"gte\",\n          value: moment()\n            .startOf(\"year\")\n            .toDate()\n        }\n      ];\n    case 6:\n      return [{ field: \"userId\", value: user._id }];\n    case 7:\n      return [{ field: \"userId\", value: user._id }];\n    // case 8:\n    //   return [\n    //     {\n    //       field: \"start_date\",\n    //       op: \"lte\",\n    //       value: new Date(2020, 11, 12, 23, 59, 0, 0)\n    //     },\n    //     {\n    //       field: \"start_date\",\n    //       op: \"gte\",\n    //       value: new Date(2020, 10, 12, 0, 0, 0, 0)\n    //     }\n    //   ];\n    default:\n      return [];\n  }\n};\n\nconst buildCell = x => {\n  if(!x._user) {\n    return null;\n  }\n\n  const value = _.get(x, \"_user.name\");\n  return (\n    <Link\n      color=\"inherit\"\n      href={`https://www.strava.com/athletes/${x._user.strava.oAuthId}`}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {value}\n    </Link>\n  );\n};\n\nconst buildIdRow = (groupId, translate) => {\n  switch (groupId) {\n    case 6:\n      return {\n        field: \"_id\",\n        label: translate('months'),\n        filterable: false,\n        disablePadding: true\n      };\n    case 7:\n      return {\n        field: \"_id\",\n        label: translate('years'),\n        filterable: false,\n        disablePadding: true\n      };\n    default:\n      return {\n        field: \"_user.name\",\n        label: translate('user'),\n        filterable: false,\n        sortable: false,\n        disablePadding: true,\n        cell: buildCell\n      };\n  }\n};\n\nconst buildValRow = (opId, translate) => {\n  switch (opId) {\n    case 1:\n    case 4:\n      return { field: \"val\", label: translate(\"distance\"), filterable: false };\n    case 2:\n    case 5:\n      return { field: \"val\", label: translate(\"elevation\"), filterable: false };\n    case 3:\n    case 6:\n      return { field: \"val\", label: translate(\"time\"), filterable: false };\n    case 7:\n      return { field: \"val\", label: translate(\"count\"), filterable: false };\n    case 8:\n    case 9:\n      return { field: \"val\", label: translate(\"kudos\"), filterable: false };\n    default:\n      return { field: \"val\", label: translate(\"value\"), filterable: false };\n  }\n};\n\nconst buildRows = (groupId, opId, translate) => {\n  return [buildIdRow(groupId, translate), buildValRow(opId, translate)];\n};\n\nconst buildFilters = (getUsersInClub, user) => {\n  return [\n    // {\n    //   label: 'Type', field: 'type', data: [\n    //     { _id: 1, name: \"Ride\", filters: [{ field: 'type', op: 'eq', value: 'Ride' }] },\n    //     { _id: 2, name: \"Run\", filters: [{ field: 'type', op: 'eq', value: 'Run' }] },\n    //     { _id: 3, name: \"Walk\", filters: [{ field: 'type', op: 'eq', value: 'Walk' }] },\n    //     { _id: 4, name: \"Hike\", filters: [{ field: 'type', op: 'eq', value: 'Hike' }] },\n    //   ]\n    // },\n    {\n      field: \"club\",\n      data: [\n        {\n          _id: 1,\n          name: \"VYPADNI VON\",\n          filters: [\n            { field: \"userId\", op: \"in\", value: () => getUsersInClub(562456) }\n          ]\n        },\n        {\n          _id: 2,\n          name: \"TATRANSK KOZY\",\n          filters: [\n            { field: \"userId\", op: \"in\", value: () => getUsersInClub(771781) }\n          ]\n        },\n        {\n          _id: 3,\n          name: \"ME\",\n          filters: [\n            { field: \"userId\", value: user._id }\n          ]\n        }\n      ]\n    },\n    {\n      field: \"sex\",\n      data: [\n        {\n          _id: 1,\n          name: \"Male\",\n          filters: [{ field: \"sex\", op: \"eq\", value: \"M\" }]\n        },\n        {\n          _id: 2,\n          name: \"Female\",\n          filters: [{ field: \"sex\", op: \"eq\", value: \"F\" }]\n        }\n      ]\n    }\n  ];\n};\n\nlet _groupFilters, _sort, _page, _group, _filters, _typeFilters, _timer, _searchFilters;\nclass TableWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const groupId = 1;\n    this.state = {\n      opId: 1,\n      groupId,\n      typeId: 0,\n      search: ''\n    };\n    _groupFilters = buildGroupFilters(groupId, props.user.user);\n    _group = buildGroup(groupId, 1);\n    _typeFilters = [];\n    _searchFilters = [];\n  }\n\n  handleChange = (filters, page, sort) => {\n    _filters = filters;\n    _sort = sort;\n    _page = page;\n    this.getList();\n  };\n\n  getList = async () => {\n    try {\n      const f = [..._groupFilters, ..._filters, ..._typeFilters, ..._searchFilters];\n      return await this.props.store.getActivities(_group, f, _page, _sort, this.props.locale);\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  isDisabled = x => {\n    return true;\n  };\n\n  handleChangeType = (name, value) => {\n    this.setState({ [name]: value });\n    _typeFilters = buildTypeFilters(value);\n    this.getList();\n  };\n\n  handleChangeOp = (name, value) => {\n    this.setState({ [name]: value });\n    _group = buildGroup(this.state.groupId, value);\n    this.getList();\n  };\n\n  handleChangeGroup = (name, value) => {\n    const { user } = this.props.user;\n\n    this.setState({ [name]: value });\n    _groupFilters = buildGroupFilters(value, user);\n    _group = buildGroup(value, this.state.opId);\n    this.getList();\n  };\n\n  handleChangeSearch = (name, value) => {\n    this.setState({ [name]: value });\n\n    clearTimeout(_timer); // doesn't matter if it's 0\n    _timer = setTimeout(() => {\n      _searchFilters = value ? [{ field: 'name', op: 'regex', value }] : []\n      this.getList();\n    }, 500);\n  }\n\n  render() {\n    const { opId, groupId, typeId } = this.state;\n    const { classes, translate } = this.props;\n\n    return (\n      <div>\n        <Paper className={classnames(classes.paper, classes.row)}>\n          <Select\n            value={typeId}\n            field=\"typeId\"\n            onChange={this.handleChangeType}\n            data={getTypeData(translate)}\n            textField=\"name\"\n            required\n          />\n          <Select\n            value={opId}\n            field=\"opId\"\n            onChange={this.handleChangeOp}\n            data={getOpData(translate)}\n            textField=\"name\"\n            required\n          />\n          <Select\n            value={groupId}\n            field=\"groupId\"\n            onChange={this.handleChangeGroup}\n            data={getGroupData(translate)}\n            textField=\"name\"\n            required\n          />\n          <div className={classes.grow}>\n            {/* <TextInput\n              value={this.state.search}\n              field=\"search\"\n              onChange={this.handleChangeSearch}\n              fullWidth\n              startAdornment={\n                <InputAdornment position=\"start\">\n                  <Search />\n                </InputAdornment>\n              }\n            /> */}\n          </div>\n          {this.props.user.user.strava && (\n            <StravaButton config={config.strava} title={translate('sync')} />\n          )}\n        </Paper>\n        <Table\n          rows={buildRows(this.state.groupId, this.state.opId, translate)}\n          data=\"activities\"\n          onChange={this.handleChange}\n          // onDelete={deleteTimeRecord}\n          title={translate('activities')}\n          // onEdit={this.onEdit}\n          store={this.props.store}\n          filters={buildFilters(this.props.store.getUsersInClub, this.props.user.user)}\n          // defaultFilters={this.props.defaultFilters}\n          defaultSort={{ field: \"val\", dir: \"desc\" }}\n          isDisabled={this.isDisabled}\n        />\n        <Typography variant=\"body1\" className={this.props.classes.footer}>\n          {translate('rideNote')}\n        </Typography>\n      </div>\n    );\n  }\n}\n\nTableWrapper.propTypes = {};\n\nexport default compose(withStore, withUser, withStyles(styles), withLocalization)(TableWrapper);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Table from './Table';\n\nimport compose from '../../compose';\nimport withUser from '../../consumers/withUser';\n\nconst styles = theme => ({\n  paper: {\n    padding: theme.spacing.unit\n  }\n});\n\nfunction CenteredGrid(props) {\n\n  return (\n    <Grid container spacing={16}>\n      <Grid item xs={12}>\n        <Table />\n      </Grid>\n    </Grid>\n  );\n}\n\nCenteredGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default compose(\n  withStyles(styles),\n  withUser\n)(CenteredGrid);","import Records from './components/records/Records';\nimport Login from './components/login/Login';\nimport Projects from './components/projects/Projects';\nimport Project from './components/project/Project';\nimport Account from './components/account/Account';\nimport Reports from './components/reports/Reports';\nimport OAuth from './components/oauth/OAuth';\nimport Clients from './components/clients/Clients';\nimport Events from './components/events/Events';\nimport Enums from './components/enums/Enums';\nimport Calendar from './components/calendar/Calendar';\nimport Verify from './components/verify/Verify';\nimport Sign from './components/sign/Sign';\nimport Tags from './components/tags/Tags';\nimport Activities from './components/activities/Activities';\nimport permissions from './permissions';\n\nconst routes = [\n  {\n    name: 'records',\n    path: '/records',\n    component: Records,\n    exact: true,\n    permission: permissions.tasks\n  },\n  {\n    name: 'clients',\n    path: '/clients',\n    component: Clients,\n    exact: true,\n    permission: permissions.report\n  },\n  {\n    name: 'projects',\n    path: '/projects',\n    component: Projects,\n    exact: true,\n    permission: permissions.tasks\n  },\n  {\n    name: 'reports',\n    path: '/reports',\n    component: Reports,\n    exact: true,\n    permission: permissions.tasks\n  },\n  {\n    name: 'events',\n    path: '/events',\n    component: Events,\n    exact: true,\n    permission: permissions.events\n  },\n  {\n    name: 'enums',\n    path: '/enums',\n    component: Enums,\n    exact: true,\n    permission: permissions.enums\n  },\n  {\n    name: 'calendar',\n    path: '/calendar',\n    component: Calendar,\n    exact: true,\n    permission: permissions.events,\n  },\n  {\n    name: 'sign',\n    path: '/sign',\n    component: Sign,\n    exact: true,\n    permission: permissions.report\n  },\n  {\n    name: 'verify',\n    path: '/verify',\n    component: Verify,\n    exact: true,\n    permission: permissions.report\n  },\n  {\n    name: 'project',\n    path: '/projects/:id',\n    component: Project,\n    permission: permissions.tasks\n  },\n  {\n    name: 'login',\n    path: '/login',\n    component: Login,\n    anonymous: true,\n    exact: true,\n    hidden: true\n  },\n  {\n    name: 'oauth',\n    path: '/',\n    component: OAuth,\n    anonymous: true,\n    exact: true,\n    hidden: true\n  },\n  {\n    name: 'tags',\n    path: '/tags',\n    component: Tags,\n    exact: true,\n    permission: permissions.tags\n  },\n  {\n    name: 'activities',\n    path: '/activities',\n    component: Activities,\n    exact: true,\n    permission: permissions.activities\n  },\n  {\n    name: 'account',\n    path: '/account',\n    component: Account,\n    exact: true\n  },\n];\n\nexport default routes;","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport compose from './compose';\r\nimport withUser from './consumers/withUser';\r\nimport Container from \"./components/shared/Container\";\r\nimport routes from './routes';\r\nimport config from './config.json'\r\n\r\nconst styles = theme => ({\r\n  close: {\r\n    padding: theme.spacing.unit / 2,\r\n  },\r\n});\r\n\r\nlet _basename = '/';\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(process.env.NODE_ENV === \"production\") {\r\n      const url = new URL(process.env.REACT_APP_HOMEPAGE);\r\n      _basename = url.pathname;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user, classes } = this.props;    \r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Router basename={_basename}>\r\n          <Container\r\n            user={user}\r\n            routes={routes}\r\n          >\r\n            {routes.map(x => {\r\n              if (x.anonymous) return (\r\n                <Route key={x.name} path={x.path} exact={x.exact} component={x.component} />\r\n              )\r\n              else return (\r\n                <PrivateRoute exact={x.exact} key={x.name} path={x.path} component={x.component} user={user} permission={x.permission} />\r\n              )\r\n            })}\r\n          </Container>\r\n        </Router>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n          open={user.msg}\r\n          autoHideDuration={6000}\r\n          onClose={user.hideMsg}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }}\r\n          message={<span id=\"message-id\">{user.msg}</span>}\r\n          action={[\r\n            <IconButton\r\n              key=\"close\"\r\n              aria-label=\"Close\"\r\n              color=\"inherit\"\r\n              className={classes.close}\r\n              onClick={user.hideMsg}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>,\r\n          ]}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nfunction PrivateRoute({ component: Component, user, permission, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if(!user.user) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else if(permission && !user.hasPermission(permission)) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: config.home,\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import config from '../config.json';\nimport { auth as a } from 'kd-web';\n\nexport const auth = async (username, password, token = '') => {\n  try {\n    return await a.auth(username, password, token);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nconst buildRedirectUri = (provider) => {\n  let url = process.env.REACT_APP_HOMEPAGE;  \n  // fb\n  if(provider === '5') {\n    url += '/';\n  }\n\n  return `${url}?provider=${provider}`;\n}\n\nexport const oAuth = async (provider, code) => {\n  try {\n    return await a.oAuth(provider, code, buildRedirectUri(provider), config.configId);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const reset = async (username) => {\n  try {\n    return await a.reset(username, process.env.REACT_APP_HOMEPAGE)\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const updateOauth = async (provider, code) => {\n  try {\n    return await a.updateOauth(provider, code, buildRedirectUri(provider));\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const generateSecret = async () => {\n  try {\n    return await a.generateSecret();\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const sign = async (data) => {\n  try {\n    return await a.sign(data);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const verify = async (data, signature) => {\n  try {\n    return await a.verify(data, signature);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const getUsers = async (filters) => {\n  try {\n    return await a.getUsers(filters);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const getUserCached = async (id) => {\n  try {\n    return await a.getUserCached(id);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const getUser = async (id) => {\n  try {\n    return await a.getUser(id);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const updateUser = async (id, data) => {\n  try {\n    return await a.updateUser(id, data);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const checkUser = async (username) => {\n  try {\n    return await a.checkUser(username);\n  }\n  catch(error) {\n    throw error;\n  }\n}","import React from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport * as authUtils from \"../utils/authUtils\";\nimport { storage } from \"kd-web\";\n\nclass UserProvider extends React.Component {\n  state = {\n    user: storage.getUser(),\n    msg: null,\n    users: {\n      total: 0,\n      data: []\n    },\n    secret: null,\n    signature: null\n  };\n\n  showMsg = msg => {\n    this.setState({ msg });\n  };\n\n  showError = error => {\n    this.setState({ msg: error.message });\n  };\n\n  hideMsg = () => {\n    this.setState({ msg: null });\n  };\n\n  auth = async (username, password, token) => {\n    try {\n      const user = await authUtils.auth(username, password, token);\n      this.setState({ user });\n      return user;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  generateSecret = async () => {\n    try {\n      const secret = await authUtils.generateSecret();\n      this.setState({ secret });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  sign = async (data) => {\n    try {\n      const signature = await authUtils.sign(btoa(data));\n      this.setState({ signature });\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  verify = async (data, signature) => {\n    try {\n      const res = await authUtils.verify(data, signature);\n      this.setState({ signature: { data: res ? atob(data) : 'NOT VALID', signature } })\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  oAuth = async (provider, code) => {\n    try {\n      const user = await authUtils.oAuth(provider, code);\n      this.setState({ user });\n      return user;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  updateOauth = async (provider, code) => {\n    try {\n      const user = await authUtils.updateOauth(provider, code);\n      this.setState({ user });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  updateUser = async (id, data) => {\n    try {\n      const user = await authUtils.updateUser(id, data);\n      this.setState({ user });\n      return user;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  reset = async (username) => {\n    try {\n      await authUtils.reset(username);\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  getUsers = async filters => {\n    try {\n      const users = await authUtils.getUsers(filters);\n      this.setState({ users });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  hasPermission = (permission) => {\n    return this.state.user && (this.state.user.permissions & permission) > 0;\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <UserContext.Provider\n        value={{\n          auth: this.auth,\n          hideMsg: this.hideMsg,\n          showMsg: this.showMsg,\n          showError: this.showError,\n          generateSecret: this.generateSecret,\n          oAuth: this.oAuth,\n          updateOauth: this.updateOauth,\n          getUsers: this.getUsers,\n          getUser: authUtils.getUser,\n          updateUser: this.updateUser,\n          hasPermission: this.hasPermission,\n          reset: this.reset,\n          sign: this.sign,\n          verify: this.verify,\n          checkUser: authUtils.checkUser,\n          ...this.state\n        }}\n      >\n        {children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import { storage } from 'kd-web';\nimport config from '../config';\nimport moment from 'moment';\nimport * as convert from './convert';\nimport { auth as a, store } from 'kd-web';\nimport * as signalR from '@aspnet/signalr';\n\nconst TIME_RECORDS_COLLECTION = 'timeRecords';\nconst PROJECTS_COLLECTION = 'projects';\nconst TASKS_COLLECTION = 'tasks';\nconst CLIENTS_COLLECTION = 'clients';\nconst ACTIVITIES_COLLECTION = 'activities';\nconst EVENTS_COLLECTION = 'events';\nconst TAGS_COLLECTION = 'tags';\nconst USER_CLUBS = 'userClubs';\nconst ENUMS_COLLECTION = 'enums';\n\nexport const addTimeRecord = async (data, user) => {\n  try {\n    data.userId = user._id;\n    data.date.setHours(0, 0, 0, 0);\n    await store.post(TIME_RECORDS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const addEvent = async (data, user) => {\n  try {\n    data.userId = user._id;\n    data.start.setSeconds(0, 0);\n    data.end.setSeconds(0, 0);\n    await store.post(EVENTS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const addEnum = async (data) => {\n  try {\n    await store.post(ENUMS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const addProject = async (data, user) => {\n  try {\n    data.userId = user._id;\n    data.collaborators = [...data.collaborators, user._id];\n    await store.post(PROJECTS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const addClient = async (data, user) => {\n  try {\n    data.userId = user._id;\n    await store.post(CLIENTS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nconst postFile = async (file) => {\n  try {\n    return await store.postFile(file);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const getFile = async (id) => {\n  try {\n    return await store.getFile(id);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const delFile = async (id) => {\n  try {\n    return await store.delFile(id);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const addTag = async (data, user) => {\n  try {\n    data.userId = user._id;\n    data.date = new Date();\n    data.location = await store.getLocation();\n    if(data._img) {\n      const res = await postFile(data._img);\n      data.imgId = res._id;\n      data._img = null;\n    }\n    await store.post(TAGS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editProject = async (data, user) => {\n  try {\n    data.collaborators = [...data.collaborators, user._id];\n    await store.put(PROJECTS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editTimeRecord = async (data) => {\n  try {\n    data.date.setHours(0, 0, 0, 0);\n    await store.put(TIME_RECORDS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editEvent = async (data) => {\n  try {\n    await store.put(EVENTS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editEnum = async (data) => {\n  try {\n    await store.put(ENUMS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getProjects = async () => {\n  try {\n    const user = storage.getUser();\n    const sort = { field: 'key', dir: 'asc' }\n    const filters = [{ field: 'collaborators', op: \"eq\", value: user._id }];\n    const projects = await store.get(PROJECTS_COLLECTION, filters, sort);\n    projects.data.forEach(p => {\n      p.collaborators = p.collaborators.filter(x => x !== user._id);\n    })\n    return projects;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getTags = async (filters, tagTypes) => {\n  try {\n    const location = await store.getLocation();\n    location.max = null;\n    const date = moment().subtract(1, 'day').toDate();\n\n    const f = [ ...filters, {field: \"location\", op: \"near\", value: location}, {field: \"date\", op: \"gt\", value: date} ];\n    const sort = { field: 'location', dir: 'asc' };\n    const tags = await store.get(TAGS_COLLECTION, f, sort);\n    tags.filters = filters;\n    for(const x of tags.data) {\n      x.date = x.date ? new Date(x.date) : null;\n      x._dateStr = x.date.toLocaleString();\n      x._user = await a.getUserCached(x.userId);\n\n      let tagTypesStr = '';\n      x.typesId.forEach((typeId, index) => {\n        if(index !== 0) {\n          tagTypesStr += ' | ';\n        }\n        const tagType = tagTypes.find(tagType => tagType._id === typeId);\n        tagTypesStr += tagType.name;\n      });\n      x._tagTypesStr = tagTypesStr;\n    }\n\n    return tags;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nconst processValue = (group, val) => {\n  switch(group.opField) {\n    case 'dis':\n      return `${Math.round(val/100)/10} km`;\n    case 'total_elevation_gain':\n      return `${val} m`;\n    case 'moving_time':\n      return convert.secondsToTime(val);\n    default:\n      return val.toString();\n  }\n}\n\nconst parseDate = (date) => {\n  const year = date.substring(0, 4);\n  const month = date.substring(4, 6);\n  const day = date.substring(6, 8);\n  \n  return new Date(year, month, day);\n}\n\nconst getMonth = (date, locale) => {  \n  const d = parseDate(date.toString());\n  return d.toLocaleString(locale, { month: 'long', year: 'numeric' });\n}\n\nconst getYear = (date) => {\n  return date.toString().substring(0, 4);\n}\n\nexport const getUsersInClub = async (clubId) => {\n  try {\n    const c = await store.get(USER_CLUBS, [{\"field\": \"clubs\", \"value\": clubId}], { field: \"_id\", dir: \"asc\" }, { limit: 200, skip: 0 },  ['_id']);\n    return c.data.map(x => x._id);\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const getActivities = async (group, filters, page, sort, locale) => {\n  try {\n    for (const f of filters) {\n      if(f.value instanceof Function) {\n        f.value = await f.value();\n      }\n    }\n    const activities = await store.aggregation(ACTIVITIES_COLLECTION, group, filters, sort, page);\n\n    for(const x of activities.data) {\n      if(group.field === 'userId') { \n        x._user = await a.getUserCached(x._id);\n      }\n      else if(group.field === 'month') {\n        x._id = getMonth(x._id, locale);\n      }\n      else if(group.field === 'year') {\n        x._id = getYear(x._id);\n      }\n\n      x.val = processValue(group, x.val);\n    }\n    \n    return activities;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getClients = async () => {\n  try {\n    const clients = await store.get(CLIENTS_COLLECTION);\n    return clients;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getProject = async (id) => {\n  try {\n    const project = await store.getById(PROJECTS_COLLECTION, id);\n    return project;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getClient = async (id) => {\n  try {\n    const project = await store.getById(CLIENTS_COLLECTION, id);\n    return project;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const dateStats = async (filters) => {\n  try {\n    const group = { field: 'date', op: 'sum', opField: 'duration' };\n    const stats = await store.aggregation(TIME_RECORDS_COLLECTION, group, filters);\n    stats.sum = 0;\n    stats.data.forEach(x => {\n      x.duration = x.val;\n      x.name = (new Date(x._id)).toLocaleDateString('en-US');\n      stats.sum += x.val;\n    });\n    return stats;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const projectStats = async (filters, projects) => {\n  try {\n    const group = { field: 'projectId', op: 'sum', opField: 'duration' };\n    const stats = await store.aggregation(TIME_RECORDS_COLLECTION, group, filters);\n    stats.data.forEach(x => {\n      const project = projects.find(p => p._id === x._id);\n      x.name = project ? project.name : 'none';\n    });\n    return stats;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const userStats = async (filters) => {\n  try {\n    const group = { field: 'userId', op: 'sum', opField: 'duration' };\n    const stats = await store.aggregation(TIME_RECORDS_COLLECTION, group, filters);\n    for(const x of stats.data) {\n      const user = await a.getUserCached(x._id);\n      x.name = user ? user.name : '';\n    }\n    return stats;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getTimeRecords = async (projects, filters, page) => {\n  try {\n    const sort = { field: 'date', dir: 'desc' };\n    const timeRecords = await store.get(TIME_RECORDS_COLLECTION, filters, sort, page);\n    for(const x of timeRecords.data) {\n      x.date = x.date ? new Date(x.date) : null;\n      x._project = projects.find(p => p._id === x.projectId);\n      x._task = x.taskId ? await getTaskCached(x.taskId) : { name: null };\n      x._user = await a.getUserCached(x.userId);\n    }\n    return timeRecords;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getEvents = async (eventTypes, filters, page) => {\n  try {\n    const sort = { field: 'start', dir: 'desc' };\n    const events = await store.get(EVENTS_COLLECTION, filters, sort, page);\n    for(const x of events.data) {\n      x.start = x.start ? new Date(x.start) : null;\n      x.end = x.end ? new Date(x.end) : null;\n      x._user = await a.getUserCached(x.userId);\n      x._eventType = eventTypes.find(e => e._id === x.eventTypeId);\n    }\n    return events;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getEnums = async (enumTypes, filters, sort, page) => {\n  try {\n    const enums = await store.get(ENUMS_COLLECTION, filters, sort, page);\n    for(const x of enums.data) {\n      x._enumType = enumTypes.find(e => e._id === x.enumTypeId);\n    }\n    return enums;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getFilteredEnums = async (types) => {\n  try {\n    const filters = [{ field: 'enumTypeId', op: 'in', value: types }, { field: 'disabled', op: 'ne', value: true }];\n    const enums = await store.get(ENUMS_COLLECTION, filters);\n    return enums;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteTimeRecord = async (id) => {\n  try {\n    await store.delById(TIME_RECORDS_COLLECTION, id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteEvent = async (id) => {\n  try {\n    await store.delById(EVENTS_COLLECTION, id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteEnum = async (id) => {\n  try {\n    await store.delById(ENUMS_COLLECTION, id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteProject = async (id) => {\n  try {\n    await store.delById(PROJECTS_COLLECTION, id);\n    await store.del(TASKS_COLLECTION, [{ field: \"projectId\", value: id }]);\n    await store.del(TIME_RECORDS_COLLECTION, [{ field: \"projectId\", value: id }]);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteTask = async (id) => {\n  try {\n    await store.delById(TASKS_COLLECTION, id);\n    await store.del(TIME_RECORDS_COLLECTION, [{ field: \"taskId\", value: id }]);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const addTask = async (data, user, projectId) => {\n  try {\n    data.userId = user._id;\n    data.projectId = projectId\n    await store.post(TASKS_COLLECTION, data);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editTask = async (data) => {\n  try {\n    await store.put(TASKS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editClient = async (data) => {\n  try {\n    await store.put(CLIENTS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const editTag = async (data) => {\n  try {\n    await store.put(TAGS_COLLECTION, data, data._id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteClient = async (id) => {\n  try {\n    await store.delById(CLIENTS_COLLECTION, id);\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const deleteTag = async (x) => {\n  try {\n    await store.delById(TAGS_COLLECTION, x._id);\n    if(x.imgId) {\n      await delFile(x.imgId);\n    }\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getTasks = async (states, filters, page, sort) => {\n  try {\n    const tasks = await store.get(TASKS_COLLECTION, filters, sort, page);\n    for (const x of tasks.data) {\n      //x.project = projects.find(p => p._id === x.projectId);\n      x._assignedTo = x.assignedToId ? await a.getUserCached(x.assignedToId) : { name : null };;\n      x._state = states.find(s => s._id === x.stateId) || { name : null };\n      x._type = states.find(s => s._id === x.typeId) || { name : null };\n    }\n    return tasks;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nexport const getTask = async (id) => {\n  try {\n    const project = await store.getById(TASKS_COLLECTION, id);\n    return project;\n  }\n  catch (error) {\n    throw error;\n  }\n}\n\nconst taskCache = {};\nexport const getTaskCached = async (id) => {\n  try {\n    if(!taskCache[id]) {\n      taskCache[id] = await getTask(id);\n    }\n    return taskCache[id];\n  }\n  catch(error) {\n    throw error;\n  }\n}\n\nexport const initHub = (onChangeCollection) => {\n  const connection = new signalR.HubConnectionBuilder()\n    .withUrl(`${config.url.store}/hub`, { accessTokenFactory: () => storage.getUser().refreshToken })\n    .configureLogging(signalR.LogLevel.Error)\n    .build();\n\n  connection.start().catch(err => {\n    console.error(err)\n  });\n\n  connection.on(\"change\", onChangeCollection);\n}","export const secondsToTime = (seconds) => {\r\n  let h = Math.floor(seconds / 3600);\r\n  let m = Math.floor(seconds % 3600 / 60);\r\n  let s = Math.floor(seconds % 3600 % 60);\r\n\r\n  if(m < 10) m = '0'+m;\r\n  if(s < 10) s = '0'+s;\r\n\r\n  return `${h}:${m}:${s}`\r\n}","import React from \"react\";\nimport StoreContext from \"../contexts/StoreContext\";\nimport { storage } from \"kd-web\";\nimport * as storeUtils from \"../utils/storeUtils\";\nimport * as authUtils from \"../utils/authUtils\";\n\nlet _isInit;\nclass StoreProvider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      timeRecords: {\n        total: 0,\n        data: [],\n        filters: [],\n        page: null,\n        isLoading: false\n      },\n      events: {\n        total: 0,\n        data: [],\n        filters: [],\n        page: null,\n        isLoading: false\n      },\n      enums: {\n        total: 0,\n        data: [],\n        filters: [],\n        page: null,\n        isLoading: false\n      },\n      projects: {\n        total: 0,\n        data: [],\n        filters: [],\n        isLoading: false\n      },\n      project: null,\n      client: null,\n      dateStats: {\n        data: [],\n        sum: 0\n      },\n      projectStats: {\n        data: []\n      },\n      userStats: {\n        data: []\n      },\n      users: {\n        total: 0,\n        data: []\n      },\n      tasks: {\n        total: 0,\n        data: [],\n        isLoading: false\n      },\n      clients: {\n        total: 0,\n        data: [],\n        isLoading: false\n      },\n      enumTypes: {\n        total: 2,\n        data: [\n          { _id: 1, name: \"event\" },\n          { _id: 2, name: 'tag' },\n          { _id: 3, name: 'state' },\n          { _id: 4, name: 'task' }\n        ]\n      },\n      projectId: null,\n      tags: {\n        total: 0,\n        data: [],\n        filters: [],\n        isLoading: false\n      },\n      activities: {\n        total: 0,\n        data: [],\n        isLoading: false\n      },\n    };\n  }\n\n  getProjects = async () => {\n    try {\n      this.setState(state => ({ projects: { ...state.projects, isLoading: true } }));\n      const projects = await storeUtils.getProjects();\n      projects.isLoading = false;\n      this.setState({ projects });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  getTags = async (filters) => {\n    try {\n      this.setState(state => ({ tags: { ...state.tags, isLoading: true } }));\n      const enums = await storeUtils.getFilteredEnums([2]);\n      const tags = await storeUtils.getTags(filters, enums.data);\n      tags.isLoading = false;\n      this.setState({ tags, enums });\n    } catch (error) {\n      this.setState(state => ({ tags: { ...state.tags, isLoading: false } }));\n      throw error;\n    }\n  }\n\n  getActivities = async (group, filters, page, sort, locale) => {\n    try {\n      this.setState(state => ({ activities: { ...state.activities, isLoading: true } }));\n      const activities = await storeUtils.getActivities(group, filters, page, sort, locale);\n      activities.isLoading = false;\n      this.setState({ activities });\n    } catch (error) {\n      this.setState(state => ({ activities: { ...state.activities, isLoading: false } }));\n      throw error;\n    }\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  getProject = async id => {\n    try {\n      const project = await storeUtils.getProject(id);\n\n      const users = [];\n      for (let x of project.collaborators) {\n        const user = await authUtils.getUserCached(x);\n        users.push(user);\n      }\n      this.setState({ project, users: { total: users.length, data: users } });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  getClient = async id => {\n    try {\n      const client = await storeUtils.getClient(id);\n      this.setState({ client });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  getClients = async () => {\n    try {\n      this.setState(state => ({ clients: { ...state.clients, isLoading: true } }));\n      const clients = await storeUtils.getClients();\n      clients.isLoading = false;\n      this.setState({ clients });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  refreshTimeRecords = async () => {\n    try {\n      this.setState(state => ({ timeRecords: { ...state.timeRecords, isLoading: true } }));\n      const { filters, page } = this.state.timeRecords;\n      const projects = await storeUtils.getProjects();\n      const timeRecords = await storeUtils.getTimeRecords(\n        projects.data,\n        filters,\n        page\n      );\n      const dateStats = await storeUtils.dateStats(filters);\n      const projectStats = await storeUtils.projectStats(filters, projects.data);\n      const userStats = await storeUtils.userStats(filters);\n      timeRecords.isLoading = false;\n      this.setState({ timeRecords, dateStats, projectStats, userStats, projects });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  refreshEvents = async () => {\n    try {\n      this.setState(state => ({ events: { ...state.events, isLoading: true } }));\n      const { filters, page } = this.state.events;\n      const events = await storeUtils.getEvents(\n        this.state.enums.data,\n        filters,\n        page\n      );\n      events.isLoading = false;\n      this.setState({ events });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  getEvents = async (filters, page) => {\n    try {\n      this.setState(state => ({ events: { ...state.events, isLoading: true } }));\n      const users = await authUtils.getUsers([]);\n      const enums = await storeUtils.getFilteredEnums([1]);\n      const events = await storeUtils.getEvents(\n        enums.data, \n        filters,\n        page\n      );\n      events.isLoading = false;\n      this.setState({ events, users, enums });\n      return events;\n    } catch (error) {\n      throw error;\n    }\n  };  \n\n  getEnums = async (filters, sort, page, render = true) => {\n    try {\n      if(!render) {\n        return await storeUtils.getEnums(\n          this.state.enumTypes.data, \n          filters,\n          sort,\n          page\n        );\n      }\n\n      this.setState(state => ({ enums: { ...state.events, isLoading: true } }));\n      const enums = await storeUtils.getEnums(\n        this.state.enumTypes.data, \n        filters,\n        sort,\n        page\n      );\n      enums.isLoading = false;\n      this.setState({ enums });\n      return enums;\n    } catch (error) {\n      throw error;\n    }\n  }; \n  \n  refreshEnums = async () => {\n    try {\n      this.setState(state => ({ enums: { ...state.enums, isLoading: true } }));\n      const { filters, sort, page } = this.state.enums;\n      const enums = await storeUtils.getEnums(\n        this.state.enumTypes.data,\n        filters,\n        sort,\n        page\n      );\n      enums.isLoading = false;\n      this.setState({ enums });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  refreshTasks = async () => {\n    try {\n      this.setState(state => ({ tasks: { ...state.tasks, isLoading: true } }));\n      const { filters, page, sort } = this.state.tasks;\n      const tasks = await storeUtils.getTasks(this.state.enums.data, filters, page, sort);\n      tasks.isLoading = false;\n      this.setState({ tasks });\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  getTasks = async (projectId, filters, page, sort, render = true) => {\n    const f = [\n      ...filters,\n      { field: \"projectId\", op: \"eq\", value: projectId }\n    ];\n\n    try {\n      if(!render) {\n        const enums = await storeUtils.getFilteredEnums([3, 4]);\n        return await storeUtils.getTasks(enums.data, f, page, sort);\n      }\n\n      this.setState(state => ({ tasks: { ...state.tasks, isLoading: true } }));\n      const enums = await storeUtils.getFilteredEnums([3, 4]);\n      const tasks = await storeUtils.getTasks(enums.data, f, page, sort);\n      tasks.isLoading = false;\n      this.setState({ tasks, enums });\n      return tasks;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  getOpenedTasks = async (projectId, user) => {\n    try {\n      const filters = [\n        { field: \"stateId\", op: \"ne\", value: 3 },\n        { field: \"assignedToId\", op: \"in\", value: [user._id, ''] }\n      ];\n      await this.getTasks(projectId, filters, undefined);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  likeTag = (id, user) => {\n    this.setState(state => ({ tags: { ...state.tags, data: state.tags.data.map(x => {\n      if(x._id === id) {\n        const index = x.likes.indexOf(user._id);\n        if (index > -1) {\n          x.likes.splice(index, 1);\n          x.likesCnt = x.likesCnt-1;\n        }\n        else {\n          x.likes.push(user._id);\n          x.likesCnt = x.likesCnt+1;\n        }\n        storeUtils.editTag(x);\n      }\n\n      return x;\n    }) } }));\n  }\n\n  getTimeRecords = async (filters, page, render = true) => {\n    try {\n      if(!render) {\n        const projects = await storeUtils.getProjects();\n        const f = [\n          ...filters,\n          { field: \"projectId\", op: \"in\", value: projects.data.map(x => x._id) }\n        ];\n        return await storeUtils.getTimeRecords(\n          projects.data,\n          f,\n          page\n        );\n      }\n\n      this.setState(state => ({ timeRecords: { ...state.timeRecords, isLoading: true } }));\n      const projects = await storeUtils.getProjects();\n      const users = await authUtils.getUsers([]);\n      const f = [\n        ...filters,\n        { field: \"projectId\", op: \"in\", value: projects.data.map(x => x._id) }\n      ];\n      const timeRecords = await storeUtils.getTimeRecords(\n        projects.data,\n        f,\n        page\n      );\n      const dateStats = await storeUtils.dateStats(f);\n      const projectStats = await storeUtils.projectStats(f, projects.data);\n      const userStats = await storeUtils.userStats(filters);\n      timeRecords.isLoading = false;\n      this.setState({ timeRecords, dateStats, projectStats, userStats, projects, users });\n      return timeRecords;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  handleChangeCollection = collection => {\n    console.log(\"CHANGED: \" + collection);\n  };\n\n  render() {\n    const { children } = this.props;\n    if (!_isInit && storage.getUser()) {\n      _isInit = true;\n      // storeUtils.initHub(this.handleChangeCollection);\n    }\n\n    return (\n      <StoreContext.Provider\n        value={{\n          addTimeRecord: storeUtils.addTimeRecord,\n          addEvent: storeUtils.addEvent, \n          getTimeRecords: this.getTimeRecords,\n          getEvents: this.getEvents,\n          refreshEvents: this.refreshEvents, \n          refreshTimeRecords: this.refreshTimeRecords,\n          deleteTimeRecord: storeUtils.deleteTimeRecord,\n          deleteEvent: storeUtils.deleteEvent,\n          addProject: storeUtils.addProject,\n          addClient: storeUtils.addClient,\n          addTag: storeUtils.addTag,\n          getClients: this.getClients,\n          editClient: storeUtils.editClient,\n          editTag: storeUtils.editTag,\n          deleteClient: storeUtils.deleteClient,\n          getProjects: this.getProjects,\n          deleteProject: storeUtils.deleteProject,\n          deleteTag: storeUtils.deleteTag,\n          addTask: storeUtils.addTask,\n          editTask: storeUtils.editTask,\n          deleteTask: storeUtils.deleteTask,\n          refreshTasks: this.refreshTasks,\n          editProject: storeUtils.editProject,\n          editTimeRecord: storeUtils.editTimeRecord,\n          editEvent: storeUtils.editEvent,\n          getTasks: this.getTasks,\n          getProject: this.getProject,\n          getClient: this.getClient,\n          getOpenedTasks: this.getOpenedTasks,\n          handleChange: this.handleChange,\n          getTags: this.getTags,\n          likeTag: this.likeTag,\n          getActivities: this.getActivities,\n          getFile: storeUtils.getFile,\n          getUsersInClub: storeUtils.getUsersInClub,\n          getEnums: this.getEnums,\n          refreshEnums: this.refreshEnums,\n          addEnum: storeUtils.addEnum,\n          editEnum: storeUtils.editEnum,\n          deleteEnum: storeUtils.deleteEnum,\n          ...this.state\n        }}\n      >\n        {children}\n      </StoreContext.Provider>\n    );\n  }\n}\n\nexport default StoreProvider;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { init } from \"kd-web\";\nimport config from \"./config.json\";\n\nimport UserProvider from \"./providers/UserProvider\";\nimport StoreProvider from \"./providers/StoreProvider\";\n\nimport { MuiPickersUtilsProvider } from \"material-ui-pickers\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport MomentUtils from \"@date-io/moment\";\nimport { LocalizationProvider } from \"./components/shared/localization\";\nimport en from './localization/en-US.json';\nimport sk from './localization/sk-SK.json';\n\ninit(config);\n\nconst theme = createMuiTheme({\n  palette: config.palette\n});\n\nclass AppWrapper extends React.Component {\n  componentDidMount() {\n    document.documentElement.style.setProperty(\n      \"--primary-color\",\n      config.palette.primary.main\n    );\n    document.title = `${process.env.REACT_APP_NAME} v${process.env.REACT_APP_VERSION}`;\n  }\n\n  render() {\n    return (\n      <UserProvider>\n        <StoreProvider>\n          <LocalizationProvider\n            locale={config.locale}\n            en-US={en}\n            sk-SK={sk}\n          >\n            <MuiThemeProvider theme={theme}>\n              <MuiPickersUtilsProvider utils={MomentUtils}>\n                <App />\n              </MuiPickersUtilsProvider>\n            </MuiThemeProvider>\n          </LocalizationProvider>\n        </StoreProvider>\n      </UserProvider>\n    );\n  }\n}\n\nReactDOM.render(<AppWrapper />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}